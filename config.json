{
  "name": "Flexible Data Reporter",
  "supportEmail": "support@example.com",
  "version": "1.0.0",
  "items": [
    {
      "url": "data:text/html;charset=utf-8,%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%3Ctitle%3EData%20Reporter%3C%2Ftitle%3E%0A%20%20%3Cstyle%3E%2F*%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%20%20%20Flexible%20Data%20Reporter%20%E2%80%94%20MyGeotab%20Add-In%20Styles%0A%20%20%20Consistent%20with%20MyGeotab%20look%20%26%20feel%20(Geotab%20blue%2C%20neutral%20grays)%0A%20%20%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20*%2F%0A%0A%3Aroot%20%7B%0A%20%20--gt-blue%3A%20%23005f9e%3B%0A%20%20--gt-blue-dark%3A%20%23004a7c%3B%0A%20%20--gt-blue-light%3A%20%23e8f4fc%3B%0A%20%20--gt-green%3A%20%2328a745%3B%0A%20%20--gt-red%3A%20%23dc3545%3B%0A%20%20--gt-orange%3A%20%23fd7e14%3B%0A%20%20--gt-gray-50%3A%20%23f8f9fa%3B%0A%20%20--gt-gray-100%3A%20%23f1f3f5%3B%0A%20%20--gt-gray-200%3A%20%23e9ecef%3B%0A%20%20--gt-gray-300%3A%20%23dee2e6%3B%0A%20%20--gt-gray-400%3A%20%23ced4da%3B%0A%20%20--gt-gray-600%3A%20%23868e96%3B%0A%20%20--gt-gray-700%3A%20%23495057%3B%0A%20%20--gt-gray-800%3A%20%23343a40%3B%0A%20%20--gt-gray-900%3A%20%23212529%3B%0A%20%20--gt-font%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20%22Segoe%20UI%22%2C%20Roboto%2C%20%22Helvetica%20Neue%22%2C%20Arial%2C%20sans-serif%3B%0A%20%20--gt-radius%3A%204px%3B%0A%20%20--gt-shadow%3A%200%201px%203px%20rgba(0%2C%200%2C%200%2C%200.12)%3B%0A%7D%0A%0A%2F*%20Reset%20within%20our%20add-in%20container%20*%2F%0A%23flexDataReporter%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2014px%3B%0A%20%20color%3A%20var(--gt-gray-800)%3B%0A%20%20line-height%3A%201.5%3B%0A%20%20padding%3A%2016px%2024px%3B%0A%20%20max-width%3A%201400px%3B%0A%7D%0A%0A%23flexDataReporter%20*%2C%0A%23flexDataReporter%20*%3A%3Abefore%2C%0A%23flexDataReporter%20*%3A%3Aafter%20%7B%0A%20%20box-sizing%3A%20border-box%3B%0A%7D%0A%0A%2F*%20----------%20Panel%20Sections%20----------%20*%2F%0A%0A.fdr-panel%20%7B%0A%20%20background%3A%20%23fff%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-200)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20box-shadow%3A%20var(--gt-shadow)%3B%0A%20%20margin-bottom%3A%2016px%3B%0A%20%20padding%3A%2016px%2020px%3B%0A%7D%0A%0A.fdr-panel-title%20%7B%0A%20%20font-size%3A%2016px%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20color%3A%20var(--gt-gray-900)%3B%0A%20%20margin%3A%200%200%2012px%200%3B%0A%20%20padding-bottom%3A%208px%3B%0A%20%20border-bottom%3A%202px%20solid%20var(--gt-blue)%3B%0A%7D%0A%0A%2F*%20----------%20Configure%20Panel%20----------%20*%2F%0A%0A.fdr-categories%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20flex-wrap%3A%20wrap%3B%0A%20%20gap%3A%206px%2016px%3B%0A%20%20margin-bottom%3A%2014px%3B%0A%7D%0A%0A.fdr-categories%20label%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20gap%3A%205px%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20padding%3A%204px%208px%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20transition%3A%20background%200.15s%3B%0A%7D%0A%0A.fdr-categories%20label%3Ahover%20%7B%0A%20%20background%3A%20var(--gt-blue-light)%3B%0A%7D%0A%0A.fdr-column-pickers%20%7B%0A%20%20margin-bottom%3A%2014px%3B%0A%7D%0A%0A.fdr-column-group%20%7B%0A%20%20margin-bottom%3A%2010px%3B%0A%20%20padding%3A%2010px%2012px%3B%0A%20%20background%3A%20var(--gt-gray-50)%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-200)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%7D%0A%0A.fdr-column-group-title%20%7B%0A%20%20font-weight%3A%20600%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20color%3A%20var(--gt-blue)%3B%0A%20%20margin-bottom%3A%206px%3B%0A%7D%0A%0A.fdr-column-group%20.fdr-columns%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20flex-wrap%3A%20wrap%3B%0A%20%20gap%3A%204px%2014px%3B%0A%7D%0A%0A.fdr-column-group%20.fdr-columns%20label%20%7B%0A%20%20font-size%3A%2012px%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20gap%3A%204px%3B%0A%20%20cursor%3A%20pointer%3B%0A%7D%0A%0A%2F*%20Filters%20row%20*%2F%0A.fdr-filters%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20flex-wrap%3A%20wrap%3B%0A%20%20gap%3A%2012px%3B%0A%20%20align-items%3A%20flex-end%3B%0A%20%20margin-bottom%3A%2014px%3B%0A%7D%0A%0A.fdr-filter-group%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20flex-direction%3A%20column%3B%0A%20%20gap%3A%203px%3B%0A%7D%0A%0A.fdr-filter-group%20label%20%7B%0A%20%20font-size%3A%2012px%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20color%3A%20var(--gt-gray-700)%3B%0A%7D%0A%0A.fdr-filter-group%20input%2C%0A.fdr-filter-group%20select%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20padding%3A%206px%2010px%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-300)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20background%3A%20%23fff%3B%0A%20%20color%3A%20var(--gt-gray-800)%3B%0A%20%20outline%3A%20none%3B%0A%20%20transition%3A%20border-color%200.15s%3B%0A%7D%0A%0A.fdr-filter-group%20input%3Afocus%2C%0A.fdr-filter-group%20select%3Afocus%20%7B%0A%20%20border-color%3A%20var(--gt-blue)%3B%0A%20%20box-shadow%3A%200%200%200%202px%20rgba(0%2C%2095%2C%20158%2C%200.15)%3B%0A%7D%0A%0A%2F*%20Diagnostic%20picker%20(only%20for%20StatusData)%20*%2F%0A.fdr-diagnostic-picker%20%7B%0A%20%20display%3A%20none%3B%0A%20%20margin-bottom%3A%2014px%3B%0A%20%20padding%3A%2010px%2012px%3B%0A%20%20background%3A%20var(--gt-gray-50)%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-200)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%7D%0A%0A.fdr-diagnostic-picker.visible%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A.fdr-diagnostic-picker%20label%20%7B%0A%20%20font-size%3A%2012px%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20color%3A%20var(--gt-gray-700)%3B%0A%7D%0A%0A.fdr-diagnostic-picker%20select%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20padding%3A%206px%2010px%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-300)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20min-width%3A%20300px%3B%0A%20%20margin-top%3A%203px%3B%0A%7D%0A%0A%2F*%20Buttons%20*%2F%0A.fdr-btn%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20padding%3A%208px%2020px%3B%0A%20%20border%3A%20none%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20transition%3A%20background%200.15s%2C%20opacity%200.15s%3B%0A%7D%0A%0A.fdr-btn%3Adisabled%20%7B%0A%20%20opacity%3A%200.5%3B%0A%20%20cursor%3A%20not-allowed%3B%0A%7D%0A%0A.fdr-btn-primary%20%7B%0A%20%20background%3A%20var(--gt-blue)%3B%0A%20%20color%3A%20%23fff%3B%0A%7D%0A%0A.fdr-btn-primary%3Ahover%3Anot(%3Adisabled)%20%7B%0A%20%20background%3A%20var(--gt-blue-dark)%3B%0A%7D%0A%0A.fdr-btn-secondary%20%7B%0A%20%20background%3A%20var(--gt-gray-200)%3B%0A%20%20color%3A%20var(--gt-gray-800)%3B%0A%7D%0A%0A.fdr-btn-secondary%3Ahover%3Anot(%3Adisabled)%20%7B%0A%20%20background%3A%20var(--gt-gray-300)%3B%0A%7D%0A%0A.fdr-btn-success%20%7B%0A%20%20background%3A%20var(--gt-green)%3B%0A%20%20color%3A%20%23fff%3B%0A%7D%0A%0A.fdr-btn-success%3Ahover%3Anot(%3Adisabled)%20%7B%0A%20%20background%3A%20%23218838%3B%0A%7D%0A%0A.fdr-actions%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2010px%3B%0A%20%20align-items%3A%20center%3B%0A%7D%0A%0A%2F*%20Status%20%2F%20loading%20*%2F%0A.fdr-status%20%7B%0A%20%20font-size%3A%2013px%3B%0A%20%20color%3A%20var(--gt-gray-600)%3B%0A%20%20margin-left%3A%2012px%3B%0A%7D%0A%0A.fdr-status.error%20%7B%0A%20%20color%3A%20var(--gt-red)%3B%0A%20%20font-weight%3A%20600%3B%0A%7D%0A%0A.fdr-spinner%20%7B%0A%20%20display%3A%20inline-block%3B%0A%20%20width%3A%2016px%3B%0A%20%20height%3A%2016px%3B%0A%20%20border%3A%202px%20solid%20var(--gt-gray-300)%3B%0A%20%20border-top-color%3A%20var(--gt-blue)%3B%0A%20%20border-radius%3A%2050%25%3B%0A%20%20animation%3A%20fdr-spin%200.6s%20linear%20infinite%3B%0A%20%20vertical-align%3A%20middle%3B%0A%20%20margin-right%3A%206px%3B%0A%7D%0A%0A%40keyframes%20fdr-spin%20%7B%0A%20%20to%20%7B%20transform%3A%20rotate(360deg)%3B%20%7D%0A%7D%0A%0A%2F*%20----------%20Results%20Panel%20----------%20*%2F%0A%0A.fdr-results%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A.fdr-results.visible%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A%2F*%20Tabs%20*%2F%0A.fdr-tabs%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%200%3B%0A%20%20border-bottom%3A%202px%20solid%20var(--gt-gray-200)%3B%0A%20%20margin-bottom%3A%2012px%3B%0A%7D%0A%0A.fdr-tab%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20padding%3A%208px%2016px%3B%0A%20%20border%3A%20none%3B%0A%20%20background%3A%20none%3B%0A%20%20color%3A%20var(--gt-gray-600)%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20border-bottom%3A%202px%20solid%20transparent%3B%0A%20%20margin-bottom%3A%20-2px%3B%0A%20%20transition%3A%20color%200.15s%2C%20border-color%200.15s%3B%0A%7D%0A%0A.fdr-tab%3Ahover%20%7B%0A%20%20color%3A%20var(--gt-gray-800)%3B%0A%7D%0A%0A.fdr-tab.active%20%7B%0A%20%20color%3A%20var(--gt-blue)%3B%0A%20%20border-bottom-color%3A%20var(--gt-blue)%3B%0A%7D%0A%0A.fdr-tab-count%20%7B%0A%20%20font-weight%3A%20400%3B%0A%20%20font-size%3A%2011px%3B%0A%20%20color%3A%20var(--gt-gray-600)%3B%0A%20%20margin-left%3A%204px%3B%0A%7D%0A%0A%2F*%20Table%20toolbar%20*%2F%0A.fdr-table-toolbar%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2010px%3B%0A%20%20align-items%3A%20center%3B%0A%20%20margin-bottom%3A%2010px%3B%0A%20%20flex-wrap%3A%20wrap%3B%0A%7D%0A%0A.fdr-search%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20padding%3A%206px%2010px%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-300)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20width%3A%20220px%3B%0A%20%20outline%3A%20none%3B%0A%7D%0A%0A.fdr-search%3Afocus%20%7B%0A%20%20border-color%3A%20var(--gt-blue)%3B%0A%20%20box-shadow%3A%200%200%200%202px%20rgba(0%2C%2095%2C%20158%2C%200.15)%3B%0A%7D%0A%0A%2F*%20Data%20table%20*%2F%0A.fdr-table-wrap%20%7B%0A%20%20overflow-x%3A%20auto%3B%0A%20%20margin-bottom%3A%2010px%3B%0A%7D%0A%0A.fdr-table%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20border-collapse%3A%20collapse%3B%0A%20%20font-size%3A%2013px%3B%0A%7D%0A%0A.fdr-table%20thead%20th%20%7B%0A%20%20background%3A%20var(--gt-gray-100)%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20text-align%3A%20left%3B%0A%20%20padding%3A%208px%2010px%3B%0A%20%20border-bottom%3A%202px%20solid%20var(--gt-gray-300)%3B%0A%20%20white-space%3A%20nowrap%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20user-select%3A%20none%3B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A.fdr-table%20thead%20th%3Ahover%20%7B%0A%20%20background%3A%20var(--gt-gray-200)%3B%0A%7D%0A%0A.fdr-table%20thead%20th%20.sort-arrow%20%7B%0A%20%20font-size%3A%2010px%3B%0A%20%20margin-left%3A%204px%3B%0A%20%20color%3A%20var(--gt-gray-400)%3B%0A%7D%0A%0A.fdr-table%20thead%20th%20.sort-arrow.asc%3A%3Aafter%20%7B%20content%3A%20'%5C25B2'%3B%20color%3A%20var(--gt-blue)%3B%20%7D%0A.fdr-table%20thead%20th%20.sort-arrow.desc%3A%3Aafter%20%7B%20content%3A%20'%5C25BC'%3B%20color%3A%20var(--gt-blue)%3B%20%7D%0A%0A.fdr-table%20tbody%20td%20%7B%0A%20%20padding%3A%206px%2010px%3B%0A%20%20border-bottom%3A%201px%20solid%20var(--gt-gray-200)%3B%0A%20%20white-space%3A%20nowrap%3B%0A%20%20max-width%3A%20300px%3B%0A%20%20overflow%3A%20hidden%3B%0A%20%20text-overflow%3A%20ellipsis%3B%0A%7D%0A%0A.fdr-table%20tbody%20tr%3Ahover%20%7B%0A%20%20background%3A%20var(--gt-blue-light)%3B%0A%7D%0A%0A%2F*%20Pagination%20*%2F%0A.fdr-pagination%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%208px%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20space-between%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20color%3A%20var(--gt-gray-700)%3B%0A%7D%0A%0A.fdr-pagination%20button%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2012px%3B%0A%20%20padding%3A%204px%2012px%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-300)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%20%20background%3A%20%23fff%3B%0A%20%20cursor%3A%20pointer%3B%0A%7D%0A%0A.fdr-pagination%20button%3Ahover%3Anot(%3Adisabled)%20%7B%0A%20%20background%3A%20var(--gt-gray-100)%3B%0A%7D%0A%0A.fdr-pagination%20button%3Adisabled%20%7B%0A%20%20opacity%3A%200.4%3B%0A%20%20cursor%3A%20not-allowed%3B%0A%7D%0A%0A%2F*%20No%20data%20*%2F%0A.fdr-no-data%20%7B%0A%20%20text-align%3A%20center%3B%0A%20%20padding%3A%2040px%2020px%3B%0A%20%20color%3A%20var(--gt-gray-600)%3B%0A%20%20font-size%3A%2014px%3B%0A%7D%0A%0A%2F*%20----------%20Chart%20Panel%20----------%20*%2F%0A%0A.fdr-chart-panel%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A.fdr-chart-panel.visible%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A.fdr-chart-controls%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20gap%3A%2012px%3B%0A%20%20align-items%3A%20flex-end%3B%0A%20%20margin-bottom%3A%2014px%3B%0A%20%20flex-wrap%3A%20wrap%3B%0A%7D%0A%0A.fdr-chart-controls%20label%20%7B%0A%20%20font-size%3A%2012px%3B%0A%20%20font-weight%3A%20600%3B%0A%20%20color%3A%20var(--gt-gray-700)%3B%0A%7D%0A%0A.fdr-chart-controls%20select%20%7B%0A%20%20font-family%3A%20var(--gt-font)%3B%0A%20%20font-size%3A%2013px%3B%0A%20%20padding%3A%206px%2010px%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-300)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%7D%0A%0A.fdr-chart-container%20%7B%0A%20%20position%3A%20relative%3B%0A%20%20width%3A%20100%25%3B%0A%20%20max-width%3A%20900px%3B%0A%20%20height%3A%20400px%3B%0A%20%20background%3A%20var(--gt-gray-50)%3B%0A%20%20border%3A%201px%20solid%20var(--gt-gray-200)%3B%0A%20%20border-radius%3A%20var(--gt-radius)%3B%0A%7D%0A%0A.fdr-chart-container%20canvas%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%20100%25%3B%0A%7D%0A%0A%2F*%20----------%20Utility%20----------%20*%2F%0A%0A.fdr-hidden%20%7B%0A%20%20display%3A%20none%20!important%3B%0A%7D%0A%0A.fdr-mb-8%20%7B%20margin-bottom%3A%208px%3B%20%7D%0A.fdr-mb-12%20%7B%20margin-bottom%3A%2012px%3B%20%7D%0A%3C%2Fstyle%3E%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%0A%3Cdiv%20id%3D%22flexDataReporter%22%3E%0A%0A%20%20%3C!--%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20PANEL%201%3A%20Configure%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20--%3E%0A%20%20%3Cdiv%20class%3D%22fdr-panel%22%20id%3D%22fdrConfigPanel%22%3E%0A%20%20%20%20%3Ch2%20class%3D%22fdr-panel-title%22%3EConfigure%20Report%3C%2Fh2%3E%0A%0A%20%20%20%20%3C!--%20Data%20category%20checkboxes%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-mb-8%22%3E%0A%20%20%20%20%20%20%3Cstrong%20style%3D%22font-size%3A13px%3B%22%3EData%20Categories%3C%2Fstrong%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-categories%22%20id%3D%22fdrCategoryChecks%22%3E%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Per-category%20column%20pickers%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-column-pickers%22%20id%3D%22fdrColumnPickers%22%3E%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Diagnostic%20picker%20(only%20for%20StatusData)%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-diagnostic-picker%22%20id%3D%22fdrDiagnosticPicker%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrDiagnosticSelect%22%3EDiagnostic%20(required%20for%20Engine%20Data)%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22fdrDiagnosticSelect%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22%22%3E--%20Select%20a%20diagnostic%20--%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticEngineSpeedId%22%3EEngine%20Speed%20(RPM)%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticEngineCoolantTemperatureId%22%3ECoolant%20Temperature%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticOdometerAdjustmentId%22%3EOdometer%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticFuelLevelId%22%3EFuel%20Level%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticBatteryVoltageId%22%3EBattery%20Voltage%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticEngineOilTemperatureId%22%3EEngine%20Oil%20Temperature%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22DiagnosticEngineRoadSpeedId%22%3EVehicle%20Speed%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%3C%2Fselect%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Filters%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-filters%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrDateFrom%22%3EFrom%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22date%22%20id%3D%22fdrDateFrom%22%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrDateTo%22%3ETo%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22date%22%20id%3D%22fdrDateTo%22%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrDeviceSelect%22%3EDevice%20Filter%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22fdrDeviceSelect%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22%22%3EAll%20Devices%20(use%20group%20filter)%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%3C%2Fselect%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrResultsLimit%22%3EResults%20Limit%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22number%22%20id%3D%22fdrResultsLimit%22%20value%3D%22500%22%20min%3D%221%22%20max%3D%2250000%22%20step%3D%22100%22%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Run%20button%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-actions%22%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22fdr-btn%20fdr-btn-primary%22%20id%3D%22fdrRunBtn%22%3ERun%20Report%3C%2Fbutton%3E%0A%20%20%20%20%20%20%3Cspan%20class%3D%22fdr-status%22%20id%3D%22fdrStatus%22%3E%3C%2Fspan%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%0A%20%20%3C!--%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20PANEL%202%3A%20Results%20Table%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20--%3E%0A%20%20%3Cdiv%20class%3D%22fdr-panel%20fdr-results%22%20id%3D%22fdrResultsPanel%22%3E%0A%20%20%20%20%3Ch2%20class%3D%22fdr-panel-title%22%3EResults%3C%2Fh2%3E%0A%0A%20%20%20%20%3C!--%20Tabs%20(one%20per%20data%20category)%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-tabs%22%20id%3D%22fdrTabs%22%3E%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Table%20toolbar%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-table-toolbar%22%3E%0A%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20class%3D%22fdr-search%22%20id%3D%22fdrSearch%22%20placeholder%3D%22Search%20results...%22%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22fdr-btn%20fdr-btn-success%22%20id%3D%22fdrExportCsvBtn%22%3EExport%20CSV%3C%2Fbutton%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22fdr-btn%20fdr-btn-secondary%22%20id%3D%22fdrToggleChartBtn%22%3EShow%20Chart%3C%2Fbutton%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Table%20container%20(per%20tab)%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22fdrTableContainer%22%3E%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Pagination%20--%3E%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-pagination%22%20id%3D%22fdrPagination%22%3E%0A%20%20%20%20%20%20%3Cspan%20id%3D%22fdrPageInfo%22%3E%3C%2Fspan%3E%0A%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22fdrPrevBtn%22%3EPrevious%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22fdrNextBtn%22%3ENext%3C%2Fbutton%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%0A%20%20%3C!--%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20PANEL%203%3A%20Chart%20%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%20--%3E%0A%20%20%3Cdiv%20class%3D%22fdr-panel%20fdr-chart-panel%22%20id%3D%22fdrChartPanel%22%3E%0A%20%20%20%20%3Ch2%20class%3D%22fdr-panel-title%22%3EChart%3C%2Fh2%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-chart-controls%22%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrChartType%22%3EChart%20Type%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22fdrChartType%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22bar%22%3EBar%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22line%22%3ELine%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%22pie%22%3EPie%3C%2Foption%3E%0A%20%20%20%20%20%20%20%20%3C%2Fselect%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrChartValueField%22%3EValue%20Field%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22fdrChartValueField%22%3E%3C%2Fselect%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cdiv%20class%3D%22fdr-filter-group%22%3E%0A%20%20%20%20%20%20%20%20%3Clabel%20for%3D%22fdrChartGroupField%22%3EGroup%20By%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%3Cselect%20id%3D%22fdrChartGroupField%22%3E%3C%2Fselect%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22fdr-btn%20fdr-btn-primary%22%20id%3D%22fdrRenderChartBtn%22%3ERender%20Chart%3C%2Fbutton%3E%0A%20%20%20%20%20%20%3Cbutton%20class%3D%22fdr-btn%20fdr-btn-secondary%22%20id%3D%22fdrHideChartBtn%22%3EHide%20Chart%3C%2Fbutton%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3Cdiv%20class%3D%22fdr-chart-container%22%20id%3D%22fdrChartContainer%22%3E%0A%20%20%20%20%20%20%3Ccanvas%20id%3D%22fdrCanvas%22%3E%3C%2Fcanvas%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%3C%2Fdiv%3E%0A%0A%3C%2Fdiv%3E%0A%0A%3C!--%20Scripts%20loaded%20in%20dependency%20order%20--%3E%0A%3Cscript%3E%2F**%0A%20*%20dataTypes.js%20%E2%80%94%20Central%20registry%20of%20all%20data%20categories%2C%20API%20mappings%2C%20and%20field%20definitions.%0A%20*%20Every%20other%20module%20references%20this%20to%20know%20what%20can%20be%20queried%20and%20displayed.%0A%20*%2F%0Avar%20DataTypes%20%3D%20(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F**%0A%20%20%20*%20Field%20definition%20shape%3A%0A%20%20%20*%20%20%20%7B%20key%2C%20label%2C%20defaultOn%2C%20type%2C%20resolve%3F%20%7D%0A%20%20%20*%0A%20%20%20*%20key%20%20%20%20%20%20%20%20%E2%80%94%20dot-path%20into%20the%20API%20result%20object%20(e.g.%20%22device.id%22)%0A%20%20%20*%20label%20%20%20%20%20%20%E2%80%94%20human-readable%20column%20header%0A%20%20%20*%20defaultOn%20%20%E2%80%94%20whether%20the%20column%20is%20checked%20by%20default%0A%20%20%20*%20type%20%20%20%20%20%20%20%E2%80%94%20%22string%22%20%7C%20%22number%22%20%7C%20%22date%22%20%7C%20%22boolean%22%20%7C%20%22id%22%0A%20%20%20*%20resolve%20%20%20%20%E2%80%94%20optional%20resolver%20name%20used%20by%20CacheManager%20(%22device%22%2C%20%22zone%22%2C%20%22rule%22%2C%20%22user%22%2C%20%22diagnostic%22)%0A%20%20%20*%2F%0A%0A%20%20var%20categories%20%3D%20%7B%0A%20%20%20%20Trip%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Trips'%2C%0A%20%20%20%20%20%20typeName%3A%20'Trip'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Trip%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'driver.id'%2C%20label%3A%20'Driver'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'start'%2C%20label%3A%20'Start%20Time'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'stop'%2C%20label%3A%20'Stop%20Time'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'distance'%2C%20label%3A%20'Distance%20(km)'%2C%20defaultOn%3A%20true%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'drivingDuration'%2C%20label%3A%20'Driving%20Duration'%2C%20defaultOn%3A%20true%2C%20type%3A%20'duration'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'stopDuration'%2C%20label%3A%20'Stop%20Duration'%2C%20defaultOn%3A%20false%2C%20type%3A%20'duration'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'idlingDuration'%2C%20label%3A%20'Idling%20Duration'%2C%20defaultOn%3A%20false%2C%20type%3A%20'duration'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'maximumSpeed'%2C%20label%3A%20'Max%20Speed%20(km%2Fh)'%2C%20defaultOn%3A%20true%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'averageSpeed'%2C%20label%3A%20'Avg%20Speed%20(km%2Fh)'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'stopPoint.x'%2C%20label%3A%20'Stop%20Longitude'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'stopPoint.y'%2C%20label%3A%20'Stop%20Latitude'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'nextTripDrivingDuration'%2C%20label%3A%20'Next%20Trip%20Driving%20Duration'%2C%20defaultOn%3A%20false%2C%20type%3A%20'duration'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20Device%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Devices'%2C%0A%20%20%20%20%20%20typeName%3A%20'Device'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20false%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Device%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'name'%2C%20label%3A%20'Name'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'serialNumber'%2C%20label%3A%20'Serial%20Number'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'deviceType'%2C%20label%3A%20'Device%20Type'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'vehicleIdentificationNumber'%2C%20label%3A%20'VIN'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'licensePlate'%2C%20label%3A%20'License%20Plate'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'comment'%2C%20label%3A%20'Comment'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'engineVehicleIdentificationNumber'%2C%20label%3A%20'Engine%20VIN'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeFrom'%2C%20label%3A%20'Active%20From'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeTo'%2C%20label%3A%20'Active%20To'%2C%20defaultOn%3A%20false%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'productId'%2C%20label%3A%20'Product%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20FaultData%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Faults'%2C%0A%20%20%20%20%20%20typeName%3A%20'FaultData'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Fault%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'diagnostic.id'%2C%20label%3A%20'Diagnostic'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'diagnostic'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'dateTime'%2C%20label%3A%20'Date%2FTime'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'failureMode.id'%2C%20label%3A%20'Failure%20Mode'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'faultState'%2C%20label%3A%20'Fault%20State'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'controller.id'%2C%20label%3A%20'Controller'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'count'%2C%20label%3A%20'Count'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'malfunction'%2C%20label%3A%20'Malfunction'%2C%20defaultOn%3A%20false%2C%20type%3A%20'boolean'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20ExceptionEvent%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Exception%20Events'%2C%0A%20%20%20%20%20%20typeName%3A%20'ExceptionEvent'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Event%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'driver.id'%2C%20label%3A%20'Driver'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'rule.id'%2C%20label%3A%20'Rule'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'rule'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeFrom'%2C%20label%3A%20'Start'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeTo'%2C%20label%3A%20'End'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'duration'%2C%20label%3A%20'Duration'%2C%20defaultOn%3A%20true%2C%20type%3A%20'duration'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'distance'%2C%20label%3A%20'Distance%20(km)'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'state'%2C%20label%3A%20'State'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20LogRecord%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'GPS%20Logs'%2C%0A%20%20%20%20%20%20typeName%3A%20'LogRecord'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Log%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'dateTime'%2C%20label%3A%20'Date%2FTime'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'latitude'%2C%20label%3A%20'Latitude'%2C%20defaultOn%3A%20true%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'longitude'%2C%20label%3A%20'Longitude'%2C%20defaultOn%3A%20true%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'speed'%2C%20label%3A%20'Speed%20(km%2Fh)'%2C%20defaultOn%3A%20true%2C%20type%3A%20'number'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20StatusData%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Engine%20%2F%20Status%20Data'%2C%0A%20%20%20%20%20%20typeName%3A%20'StatusData'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20needsDiagnostic%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Record%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'diagnostic.id'%2C%20label%3A%20'Diagnostic'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'diagnostic'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'dateTime'%2C%20label%3A%20'Date%2FTime'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'data'%2C%20label%3A%20'Value'%2C%20defaultOn%3A%20true%2C%20type%3A%20'number'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20Zone%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Zones'%2C%0A%20%20%20%20%20%20typeName%3A%20'Zone'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20false%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Zone%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'name'%2C%20label%3A%20'Name'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'comment'%2C%20label%3A%20'Comment'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'displayed'%2C%20label%3A%20'Displayed'%2C%20defaultOn%3A%20true%2C%20type%3A%20'boolean'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'mustIdentifyStops'%2C%20label%3A%20'Must%20Identify%20Stops'%2C%20defaultOn%3A%20false%2C%20type%3A%20'boolean'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeFrom'%2C%20label%3A%20'Active%20From'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeTo'%2C%20label%3A%20'Active%20To'%2C%20defaultOn%3A%20false%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'externalReference'%2C%20label%3A%20'External%20Reference'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'zoneTypes'%2C%20label%3A%20'Zone%20Types'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20User%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Drivers'%2C%0A%20%20%20%20%20%20typeName%3A%20'User'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20false%2C%0A%20%20%20%20%20%20isDriverOnly%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'User%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'name'%2C%20label%3A%20'Username'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'firstName'%2C%20label%3A%20'First%20Name'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'lastName'%2C%20label%3A%20'Last%20Name'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'employeeNo'%2C%20label%3A%20'Employee%20%23'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'isDriver'%2C%20label%3A%20'Is%20Driver'%2C%20defaultOn%3A%20false%2C%20type%3A%20'boolean'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'driverGroups'%2C%20label%3A%20'Driver%20Groups'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeFrom'%2C%20label%3A%20'Active%20From'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'activeTo'%2C%20label%3A%20'Active%20To'%2C%20defaultOn%3A%20false%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'phoneNumber'%2C%20label%3A%20'Phone'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20DriverChange%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'Driver%20Changes'%2C%0A%20%20%20%20%20%20typeName%3A%20'DriverChange'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Change%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'driver.id'%2C%20label%3A%20'Driver'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'dateTime'%2C%20label%3A%20'Date%2FTime'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'type'%2C%20label%3A%20'Type'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20DutyStatusLog%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'HOS%20%2F%20Duty%20Status'%2C%0A%20%20%20%20%20%20typeName%3A%20'DutyStatusLog'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'Log%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'driver.id'%2C%20label%3A%20'Driver'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'dateTime'%2C%20label%3A%20'Date%2FTime'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'status'%2C%20label%3A%20'Status'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'origin'%2C%20label%3A%20'Origin'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'state'%2C%20label%3A%20'State'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'location.x'%2C%20label%3A%20'Longitude'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'location.y'%2C%20label%3A%20'Latitude'%2C%20defaultOn%3A%20false%2C%20type%3A%20'number'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'annotations'%2C%20label%3A%20'Annotations'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'malfunction'%2C%20label%3A%20'Malfunction'%2C%20defaultOn%3A%20false%2C%20type%3A%20'boolean'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20DVIRLog%3A%20%7B%0A%20%20%20%20%20%20label%3A%20'DVIR%20Logs'%2C%0A%20%20%20%20%20%20typeName%3A%20'DVIRLog'%2C%0A%20%20%20%20%20%20needsDateRange%3A%20true%2C%0A%20%20%20%20%20%20fields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'id'%2C%20label%3A%20'DVIR%20ID'%2C%20defaultOn%3A%20false%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'device.id'%2C%20label%3A%20'Device'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'device'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'driver.id'%2C%20label%3A%20'Driver'%2C%20defaultOn%3A%20true%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'dateTime'%2C%20label%3A%20'Date%2FTime'%2C%20defaultOn%3A%20true%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'logType'%2C%20label%3A%20'Log%20Type'%2C%20defaultOn%3A%20true%2C%20type%3A%20'string'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'isSafe'%2C%20label%3A%20'Is%20Safe'%2C%20defaultOn%3A%20true%2C%20type%3A%20'boolean'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'certifiedBy.id'%2C%20label%3A%20'Certified%20By'%2C%20defaultOn%3A%20false%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'repairedBy.id'%2C%20label%3A%20'Repaired%20By'%2C%20defaultOn%3A%20false%2C%20type%3A%20'id'%2C%20resolve%3A%20'user'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'certifyDate'%2C%20label%3A%20'Certify%20Date'%2C%20defaultOn%3A%20false%2C%20type%3A%20'date'%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%20key%3A%20'repairDate'%2C%20label%3A%20'Repair%20Date'%2C%20defaultOn%3A%20false%2C%20type%3A%20'date'%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F**%20Return%20ordered%20list%20of%20category%20keys%20*%2F%0A%20%20function%20getCategoryKeys()%20%7B%0A%20%20%20%20return%20Object.keys(categories)%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Return%20category%20definition%20by%20key%20*%2F%0A%20%20function%20getCategory(key)%20%7B%0A%20%20%20%20return%20categories%5Bkey%5D%20%7C%7C%20null%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Return%20only%20the%20default-on%20fields%20for%20a%20category%20*%2F%0A%20%20function%20getDefaultFields(categoryKey)%20%7B%0A%20%20%20%20var%20cat%20%3D%20categories%5BcategoryKey%5D%3B%0A%20%20%20%20if%20(!cat)%20return%20%5B%5D%3B%0A%20%20%20%20return%20cat.fields.filter(function%20(f)%20%7B%20return%20f.defaultOn%3B%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Resolve%20a%20dot-path%20value%20from%20an%20object%20(e.g.%20%22device.id%22%20from%20row)%20*%2F%0A%20%20function%20resolvePath(obj%2C%20path)%20%7B%0A%20%20%20%20if%20(!obj%20%7C%7C%20!path)%20return%20undefined%3B%0A%20%20%20%20var%20parts%20%3D%20path.split('.')%3B%0A%20%20%20%20var%20current%20%3D%20obj%3B%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20parts.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20if%20(current%20%3D%3D%20null)%20return%20undefined%3B%0A%20%20%20%20%20%20current%20%3D%20current%5Bparts%5Bi%5D%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20current%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20categories%3A%20categories%2C%0A%20%20%20%20getCategoryKeys%3A%20getCategoryKeys%2C%0A%20%20%20%20getCategory%3A%20getCategory%2C%0A%20%20%20%20getDefaultFields%3A%20getDefaultFields%2C%0A%20%20%20%20resolvePath%3A%20resolvePath%0A%20%20%7D%3B%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%3Cscript%3E%2F**%0A%20*%20cacheManager.js%20%E2%80%94%20Caches%20semi-static%20lookup%20data%20(devices%2C%20zones%2C%20rules%2C%20users%2C%20diagnostics)%0A%20*%20so%20we%20can%20resolve%20IDs%20to%20human-readable%20names%20without%20repeated%20API%20calls.%0A%20*%2F%0Avar%20CacheManager%20%3D%20(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20var%20cache%20%3D%20%7B%0A%20%20%20%20device%3A%20%7B%7D%2C%20%20%20%2F%2F%20id%20-%3E%20name%0A%20%20%20%20zone%3A%20%7B%7D%2C%20%20%20%20%20%2F%2F%20id%20-%3E%20name%0A%20%20%20%20rule%3A%20%7B%7D%2C%20%20%20%20%20%2F%2F%20id%20-%3E%20name%0A%20%20%20%20user%3A%20%7B%7D%2C%20%20%20%20%20%2F%2F%20id%20-%3E%20display%20name%0A%20%20%20%20diagnostic%3A%20%7B%7D%20%2F%2F%20id%20-%3E%20name%0A%20%20%7D%3B%0A%0A%20%20var%20loaded%20%3D%20false%3B%0A%0A%20%20%2F**%0A%20%20%20*%20Initialize%20all%20caches%20using%20api.multiCall.%0A%20%20%20*%20%40param%20%7Bobject%7D%20api%20%E2%80%94%20MyGeotab%20api%20object%0A%20%20%20*%20%40returns%20%7BPromise%7D%0A%20%20%20*%2F%0A%20%20function%20init(api)%20%7B%0A%20%20%20%20if%20(loaded)%20return%20Promise.resolve()%3B%0A%0A%20%20%20%20var%20calls%20%3D%20%5B%0A%20%20%20%20%20%20%5B'Get'%2C%20%7B%20typeName%3A%20'Device'%2C%20resultsLimit%3A%2010000%2C%20search%3A%20%7B%7D%20%7D%5D%2C%0A%20%20%20%20%20%20%5B'Get'%2C%20%7B%20typeName%3A%20'Zone'%2C%20resultsLimit%3A%205000%2C%20search%3A%20%7B%7D%20%7D%5D%2C%0A%20%20%20%20%20%20%5B'Get'%2C%20%7B%20typeName%3A%20'Rule'%2C%20resultsLimit%3A%205000%2C%20search%3A%20%7B%7D%20%7D%5D%2C%0A%20%20%20%20%20%20%5B'Get'%2C%20%7B%20typeName%3A%20'User'%2C%20resultsLimit%3A%205000%2C%20search%3A%20%7B%7D%20%7D%5D%0A%20%20%20%20%5D%3B%0A%0A%20%20%20%20return%20new%20Promise(function%20(resolve%2C%20reject)%20%7B%0A%20%20%20%20%20%20api.multiCall(calls%2C%20function%20(results)%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Devices%0A%20%20%20%20%20%20%20%20%20%20var%20devices%20%3D%20results%5B0%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20devices.forEach(function%20(d)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.device%5Bd.id%5D%20%3D%20d.name%20%7C%7C%20d.serialNumber%20%7C%7C%20d.id%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Zones%0A%20%20%20%20%20%20%20%20%20%20var%20zones%20%3D%20results%5B1%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20zones.forEach(function%20(z)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.zone%5Bz.id%5D%20%3D%20z.name%20%7C%7C%20z.id%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Rules%0A%20%20%20%20%20%20%20%20%20%20var%20rules%20%3D%20results%5B2%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20rules.forEach(function%20(r)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.rule%5Br.id%5D%20%3D%20r.name%20%7C%7C%20r.id%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Users%0A%20%20%20%20%20%20%20%20%20%20var%20users%20%3D%20results%5B3%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20users.forEach(function%20(u)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20display%20%3D%20''%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(u.firstName%20%7C%7C%20u.lastName)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%20%3D%20((u.firstName%20%7C%7C%20'')%20%2B%20'%20'%20%2B%20(u.lastName%20%7C%7C%20'')).trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20cache.user%5Bu.id%5D%20%3D%20display%20%7C%7C%20u.name%20%7C%7C%20u.id%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20loaded%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20resolve()%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20reject(e)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%20function%20(err)%20%7B%0A%20%20%20%20%20%20%20%20reject(err)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Resolve%20an%20ID%20to%20a%20display%20name.%0A%20%20%20*%20%40param%20%7Bstring%7D%20type%20%E2%80%94%20%22device%22%2C%20%22zone%22%2C%20%22rule%22%2C%20%22user%22%2C%20%22diagnostic%22%0A%20%20%20*%20%40param%20%7Bstring%7D%20id%0A%20%20%20*%20%40returns%20%7Bstring%7D%0A%20%20%20*%2F%0A%20%20function%20resolve(type%2C%20id)%20%7B%0A%20%20%20%20if%20(!id)%20return%20''%3B%0A%20%20%20%20if%20(cache%5Btype%5D%20%26%26%20cache%5Btype%5D%5Bid%5D)%20%7B%0A%20%20%20%20%20%20return%20cache%5Btype%5D%5Bid%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20For%20well-known%20Geotab%20IDs%2C%20clean%20them%20up%0A%20%20%20%20if%20(typeof%20id%20%3D%3D%3D%20'string'%20%26%26%20id.startsWith('Diagnostic'))%20%7B%0A%20%20%20%20%20%20return%20id.replace(%2FId%24%2F%2C%20'').replace(%2F(%5BA-Z%5D)%2Fg%2C%20'%20%241').trim()%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20String(id)%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Return%20the%20devices%20cache%20for%20populating%20the%20device%20filter%20dropdown%20*%2F%0A%20%20function%20getDevices()%20%7B%0A%20%20%20%20return%20cache.device%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Return%20all%20cached%20users%20*%2F%0A%20%20function%20getUsers()%20%7B%0A%20%20%20%20return%20cache.user%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Check%20if%20caches%20are%20loaded%20*%2F%0A%20%20function%20isLoaded()%20%7B%0A%20%20%20%20return%20loaded%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Store%20a%20diagnostic%20name%20into%20the%20cache%20*%2F%0A%20%20function%20cacheDiagnostic(id%2C%20name)%20%7B%0A%20%20%20%20cache.diagnostic%5Bid%5D%20%3D%20name%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20init%3A%20init%2C%0A%20%20%20%20resolve%3A%20resolve%2C%0A%20%20%20%20getDevices%3A%20getDevices%2C%0A%20%20%20%20getUsers%3A%20getUsers%2C%0A%20%20%20%20isLoaded%3A%20isLoaded%2C%0A%20%20%20%20cacheDiagnostic%3A%20cacheDiagnostic%0A%20%20%7D%3B%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%3Cscript%3E%2F**%0A%20*%20queryEngine.js%20%E2%80%94%20Builds%20and%20executes%20API%20queries%20via%20api.multiCall().%0A%20*%20Handles%20batching%2C%20date%20range%20injection%2C%20device%20filtering%2C%20and%20results%20limiting.%0A%20*%2F%0Avar%20QueryEngine%20%3D%20(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F**%0A%20%20%20*%20Run%20queries%20for%20all%20selected%20categories.%0A%20%20%20*%20%40param%20%7Bobject%7D%20api%20%E2%80%94%20MyGeotab%20api%20object%0A%20%20%20*%20%40param%20%7Bobject%7D%20opts%0A%20%20%20*%20%20%20opts.categories%20%20%E2%80%94%20array%20of%20category%20keys%20(e.g.%20%5B%22Trip%22%2C%20%22Device%22%5D)%0A%20%20%20*%20%20%20opts.fromDate%20%20%20%20%E2%80%94%20ISO%20date%20string%0A%20%20%20*%20%20%20opts.toDate%20%20%20%20%20%20%E2%80%94%20ISO%20date%20string%0A%20%20%20*%20%20%20opts.deviceId%20%20%20%20%E2%80%94%20optional%20specific%20device%20ID%0A%20%20%20*%20%20%20opts.resultsLimit%20%E2%80%94%20max%20results%20per%20category%0A%20%20%20*%20%20%20opts.diagnosticId%20%E2%80%94%20optional%20diagnostic%20ID%20for%20StatusData%0A%20%20%20*%20%40param%20%7Bfunction%7D%20onProgress%20%E2%80%94%20called%20with%20(message)%20during%20execution%0A%20%20%20*%20%40returns%20%7BPromise%3Cobject%3E%7D%20%E2%80%94%20%7B%20categoryKey%3A%20%5Brows%5D%2C%20...%20%7D%0A%20%20%20*%2F%0A%20%20function%20runQueries(api%2C%20opts%2C%20onProgress)%20%7B%0A%20%20%20%20var%20calls%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20callMap%20%3D%20%5B%5D%3B%20%2F%2F%20maps%20each%20call%20index%20to%20its%20category%20key%0A%0A%20%20%20%20opts.categories.forEach(function%20(catKey)%20%7B%0A%20%20%20%20%20%20var%20catDef%20%3D%20DataTypes.getCategory(catKey)%3B%0A%20%20%20%20%20%20if%20(!catDef)%20return%3B%0A%0A%20%20%20%20%20%20var%20search%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20var%20limit%20%3D%20opts.resultsLimit%20%7C%7C%20500%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Date%20range%0A%20%20%20%20%20%20if%20(catDef.needsDateRange)%20%7B%0A%20%20%20%20%20%20%20%20search.fromDate%20%3D%20opts.fromDate%3B%0A%20%20%20%20%20%20%20%20search.toDate%20%3D%20opts.toDate%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20Device%20filter%0A%20%20%20%20%20%20if%20(opts.deviceId)%20%7B%0A%20%20%20%20%20%20%20%20search.deviceSearch%20%3D%20%7B%20id%3A%20opts.deviceId%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20Driver-only%20filter%20for%20User%20type%0A%20%20%20%20%20%20if%20(catDef.isDriverOnly)%20%7B%0A%20%20%20%20%20%20%20%20search.isDriver%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20Diagnostic%20filter%20for%20StatusData%0A%20%20%20%20%20%20if%20(catDef.needsDiagnostic%20%26%26%20opts.diagnosticId)%20%7B%0A%20%20%20%20%20%20%20%20search.diagnosticSearch%20%3D%20%7B%20id%3A%20opts.diagnosticId%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20calls.push(%5B'Get'%2C%20%7B%0A%20%20%20%20%20%20%20%20typeName%3A%20catDef.typeName%2C%0A%20%20%20%20%20%20%20%20search%3A%20search%2C%0A%20%20%20%20%20%20%20%20resultsLimit%3A%20limit%0A%20%20%20%20%20%20%7D%5D)%3B%0A%20%20%20%20%20%20callMap.push(catKey)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20if%20(calls.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20return%20Promise.resolve(%7B%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(onProgress)%20%7B%0A%20%20%20%20%20%20onProgress('Querying%20'%20%2B%20calls.length%20%2B%20'%20data%20type(s)...')%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20new%20Promise(function%20(resolve%2C%20reject)%20%7B%0A%20%20%20%20%20%20api.multiCall(calls%2C%20function%20(results)%20%7B%0A%20%20%20%20%20%20%20%20var%20data%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20callMap.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%5BcallMap%5Bi%5D%5D%20%3D%20results%5Bi%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(onProgress)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20total%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20Object.keys(data).forEach(function%20(k)%20%7B%20total%20%2B%3D%20data%5Bk%5D.length%3B%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20onProgress('Retrieved%20'%20%2B%20total%20%2B%20'%20total%20records.')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20resolve(data)%3B%0A%20%20%20%20%20%20%7D%2C%20function%20(err)%20%7B%0A%20%20%20%20%20%20%20%20reject(err)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20runQueries%3A%20runQueries%0A%20%20%7D%3B%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%3Cscript%3E%2F**%0A%20*%20tableRenderer.js%20%E2%80%94%20Renders%20sortable%2C%20paginated%2C%20filterable%20data%20tables.%0A%20*%2F%0Avar%20TableRenderer%20%3D%20(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20var%20currentOpts%20%3D%20null%3B%0A%20%20var%20currentPage%20%3D%200%3B%0A%20%20var%20sortCol%20%3D%20-1%3B%0A%20%20var%20sortDir%20%3D%20'asc'%3B%20%2F%2F%20'asc'%20%7C%20'desc'%0A%20%20var%20filteredRows%20%3D%20%5B%5D%3B%0A%20%20var%20filterQuery%20%3D%20''%3B%0A%0A%20%20%2F**%0A%20%20%20*%20Render%20a%20data%20table.%0A%20%20%20*%20%40param%20%7Bobject%7D%20opts%0A%20%20%20*%20%20%20opts.containerId%20%20%20%E2%80%94%20DOM%20id%20for%20table%20container%0A%20%20%20*%20%20%20opts.paginationId%20%20%E2%80%94%20DOM%20id%20for%20pagination%20wrapper%0A%20%20%20*%20%20%20opts.pageInfoId%20%20%20%20%E2%80%94%20DOM%20id%20for%20page%20info%20text%0A%20%20%20*%20%20%20opts.prevBtnId%20%20%20%20%20%E2%80%94%20DOM%20id%20for%20prev%20button%0A%20%20%20*%20%20%20opts.nextBtnId%20%20%20%20%20%E2%80%94%20DOM%20id%20for%20next%20button%0A%20%20%20*%20%20%20opts.fields%20%20%20%20%20%20%20%20%E2%80%94%20array%20of%20field%20definitions%0A%20%20%20*%20%20%20opts.rows%20%20%20%20%20%20%20%20%20%20%E2%80%94%20array%20of%20data%20objects%0A%20%20%20*%20%20%20opts.pageSize%20%20%20%20%20%20%E2%80%94%20rows%20per%20page%20(default%2050)%0A%20%20%20*%2F%0A%20%20function%20render(opts)%20%7B%0A%20%20%20%20currentOpts%20%3D%20opts%3B%0A%20%20%20%20currentPage%20%3D%200%3B%0A%20%20%20%20sortCol%20%3D%20-1%3B%0A%20%20%20%20sortDir%20%3D%20'asc'%3B%0A%20%20%20%20filterQuery%20%3D%20''%3B%0A%20%20%20%20filteredRows%20%3D%20opts.rows.slice()%3B%0A%20%20%20%20drawTable()%3B%0A%20%20%7D%0A%0A%20%20function%20drawTable()%20%7B%0A%20%20%20%20var%20opts%20%3D%20currentOpts%3B%0A%20%20%20%20if%20(!opts)%20return%3B%0A%0A%20%20%20%20var%20container%20%3D%20document.getElementById(opts.containerId)%3B%0A%20%20%20%20var%20fields%20%3D%20opts.fields%3B%0A%20%20%20%20var%20pageSize%20%3D%20opts.pageSize%20%7C%7C%2050%3B%0A%0A%20%20%20%20if%20(filteredRows.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20container.innerHTML%20%3D%20'%3Cdiv%20class%3D%22fdr-no-data%22%3ENo%20data%20found.%3C%2Fdiv%3E'%3B%0A%20%20%20%20%20%20updatePagination(0%2C%200%2C%200)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20totalPages%20%3D%20Math.ceil(filteredRows.length%20%2F%20pageSize)%3B%0A%20%20%20%20if%20(currentPage%20%3E%3D%20totalPages)%20currentPage%20%3D%20totalPages%20-%201%3B%0A%20%20%20%20if%20(currentPage%20%3C%200)%20currentPage%20%3D%200%3B%0A%0A%20%20%20%20var%20start%20%3D%20currentPage%20*%20pageSize%3B%0A%20%20%20%20var%20end%20%3D%20Math.min(start%20%2B%20pageSize%2C%20filteredRows.length)%3B%0A%20%20%20%20var%20pageRows%20%3D%20filteredRows.slice(start%2C%20end)%3B%0A%0A%20%20%20%20%2F%2F%20Build%20table%20HTML%0A%20%20%20%20var%20html%20%3D%20'%3Cdiv%20class%3D%22fdr-table-wrap%22%3E%3Ctable%20class%3D%22fdr-table%22%3E%3Cthead%3E%3Ctr%3E'%3B%0A%0A%20%20%20%20fields.forEach(function%20(f%2C%20idx)%20%7B%0A%20%20%20%20%20%20var%20arrowClass%20%3D%20''%3B%0A%20%20%20%20%20%20if%20(idx%20%3D%3D%3D%20sortCol)%20%7B%0A%20%20%20%20%20%20%20%20arrowClass%20%3D%20sortDir%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20html%20%2B%3D%20'%3Cth%20data-col%3D%22'%20%2B%20idx%20%2B%20'%22%3E'%20%2B%0A%20%20%20%20%20%20%20%20escapeHtml(f.label)%20%2B%0A%20%20%20%20%20%20%20%20'%3Cspan%20class%3D%22sort-arrow%20'%20%2B%20arrowClass%20%2B%20'%22%3E%3C%2Fspan%3E%3C%2Fth%3E'%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20html%20%2B%3D%20'%3C%2Ftr%3E%3C%2Fthead%3E%3Ctbody%3E'%3B%0A%0A%20%20%20%20pageRows.forEach(function%20(row)%20%7B%0A%20%20%20%20%20%20html%20%2B%3D%20'%3Ctr%3E'%3B%0A%20%20%20%20%20%20fields.forEach(function%20(f)%20%7B%0A%20%20%20%20%20%20%20%20var%20val%20%3D%20DataTypes.resolvePath(row%2C%20f.key)%3B%0A%20%20%20%20%20%20%20%20var%20display%20%3D%20formatValue(val%2C%20f)%3B%0A%20%20%20%20%20%20%20%20html%20%2B%3D%20'%3Ctd%20title%3D%22'%20%2B%20escapeHtml(display)%20%2B%20'%22%3E'%20%2B%20escapeHtml(display)%20%2B%20'%3C%2Ftd%3E'%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20html%20%2B%3D%20'%3C%2Ftr%3E'%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20html%20%2B%3D%20'%3C%2Ftbody%3E%3C%2Ftable%3E%3C%2Fdiv%3E'%3B%0A%20%20%20%20container.innerHTML%20%3D%20html%3B%0A%0A%20%20%20%20%2F%2F%20Bind%20header%20sort%20clicks%0A%20%20%20%20var%20headers%20%3D%20container.querySelectorAll('th%5Bdata-col%5D')%3B%0A%20%20%20%20headers.forEach(function%20(th)%20%7B%0A%20%20%20%20%20%20th.addEventListener('click'%2C%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20var%20col%20%3D%20parseInt(th.dataset.col%2C%2010)%3B%0A%20%20%20%20%20%20%20%20onSort(col)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20updatePagination(start%20%2B%201%2C%20end%2C%20filteredRows.length)%3B%0A%20%20%7D%0A%0A%20%20function%20onSort(colIndex)%20%7B%0A%20%20%20%20if%20(sortCol%20%3D%3D%3D%20colIndex)%20%7B%0A%20%20%20%20%20%20sortDir%20%3D%20(sortDir%20%3D%3D%3D%20'asc')%20%3F%20'desc'%20%3A%20'asc'%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20sortCol%20%3D%20colIndex%3B%0A%20%20%20%20%20%20sortDir%20%3D%20'asc'%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20field%20%3D%20currentOpts.fields%5BcolIndex%5D%3B%0A%20%20%20%20filteredRows.sort(function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20var%20va%20%3D%20DataTypes.resolvePath(a%2C%20field.key)%3B%0A%20%20%20%20%20%20var%20vb%20%3D%20DataTypes.resolvePath(b%2C%20field.key)%3B%0A%20%20%20%20%20%20return%20compareValues(va%2C%20vb%2C%20field.type%2C%20sortDir)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20currentPage%20%3D%200%3B%0A%20%20%20%20drawTable()%3B%0A%20%20%7D%0A%0A%20%20function%20compareValues(a%2C%20b%2C%20type%2C%20dir)%20%7B%0A%20%20%20%20%2F%2F%20Handle%20nulls%0A%20%20%20%20if%20(a%20%3D%3D%20null%20%26%26%20b%20%3D%3D%20null)%20return%200%3B%0A%20%20%20%20if%20(a%20%3D%3D%20null)%20return%201%3B%0A%20%20%20%20if%20(b%20%3D%3D%20null)%20return%20-1%3B%0A%0A%20%20%20%20var%20result%20%3D%200%3B%0A%20%20%20%20if%20(type%20%3D%3D%3D%20'number'%20%7C%7C%20type%20%3D%3D%3D%20'duration')%20%7B%0A%20%20%20%20%20%20result%20%3D%20(Number(a)%20%7C%7C%200)%20-%20(Number(b)%20%7C%7C%200)%3B%0A%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20'date')%20%7B%0A%20%20%20%20%20%20result%20%3D%20new%20Date(a)%20-%20new%20Date(b)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20result%20%3D%20String(a).localeCompare(String(b))%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20dir%20%3D%3D%3D%20'desc'%20%3F%20-result%20%3A%20result%3B%0A%20%20%7D%0A%0A%20%20function%20formatValue(val%2C%20field)%20%7B%0A%20%20%20%20if%20(val%20%3D%3D%20null%20%7C%7C%20val%20%3D%3D%3D%20'')%20return%20''%3B%0A%0A%20%20%20%20%2F%2F%20Resolve%20IDs%20through%20cache%0A%20%20%20%20if%20(field.resolve)%20%7B%0A%20%20%20%20%20%20return%20CacheManager.resolve(field.resolve%2C%20val)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch%20(field.type)%20%7B%0A%20%20%20%20%20%20case%20'date'%3A%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20d%20%3D%20new%20Date(val)%3B%0A%20%20%20%20%20%20%20%20%20%20if%20(isNaN(d.getTime()))%20return%20String(val)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20d.toLocaleString()%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20String(val)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20case%20'number'%3A%0A%20%20%20%20%20%20%20%20if%20(typeof%20val%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20val%20%25%201%20%3D%3D%3D%200%20%3F%20String(val)%20%3A%20val.toFixed(2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20String(val)%3B%0A%20%20%20%20%20%20case%20'duration'%3A%0A%20%20%20%20%20%20%20%20return%20formatDuration(val)%3B%0A%20%20%20%20%20%20case%20'boolean'%3A%0A%20%20%20%20%20%20%20%20return%20val%20%3F%20'Yes'%20%3A%20'No'%3B%0A%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%2F%2F%20Handle%20arrays%20(e.g.%20zoneTypes)%0A%20%20%20%20%20%20%20%20if%20(Array.isArray(val))%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20val.map(function%20(v)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20typeof%20v%20%3D%3D%3D%20'object'%20%3F%20(v.name%20%7C%7C%20v.id%20%7C%7C%20JSON.stringify(v))%20%3A%20String(v)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D).join('%2C%20')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20(typeof%20val%20%3D%3D%3D%20'object')%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20val.name%20%7C%7C%20val.id%20%7C%7C%20JSON.stringify(val)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20String(val)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20formatDuration(val)%20%7B%0A%20%20%20%20if%20(typeof%20val%20%3D%3D%3D%20'string')%20%7B%0A%20%20%20%20%20%20%2F%2F%20ISO%208601%20duration%20or%20.NET%20TimeSpan%20format%0A%20%20%20%20%20%20var%20match%20%3D%20val.match(%2FPT%3F(%5Cd%2BH)%3F(%5Cd%2BM)%3F(%5Cd%2B%5C.%3F%5Cd*S)%3F%2Fi)%3B%0A%20%20%20%20%20%20if%20(match)%20%7B%0A%20%20%20%20%20%20%20%20var%20h%20%3D%20parseInt(match%5B1%5D)%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20var%20m%20%3D%20parseInt(match%5B2%5D)%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20var%20s%20%3D%20parseFloat(match%5B3%5D)%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20return%20h%20%2B%20'h%20'%20%2B%20m%20%2B%20'm%20'%20%2B%20Math.round(s)%20%2B%20's'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20Try%20.NET%20TimeSpan%3A%20d.hh%3Amm%3Ass%0A%20%20%20%20%20%20var%20tsMatch%20%3D%20val.match(%2F(%3F%3A(%5Cd%2B)%5C.)%3F(%5Cd%2B)%3A(%5Cd%2B)%3A(%5Cd%2B)%2F)%3B%0A%20%20%20%20%20%20if%20(tsMatch)%20%7B%0A%20%20%20%20%20%20%20%20var%20days%20%3D%20parseInt(tsMatch%5B1%5D)%20%7C%7C%200%3B%0A%20%20%20%20%20%20%20%20return%20(days%20%3E%200%20%3F%20days%20%2B%20'd%20'%20%3A%20'')%20%2B%0A%20%20%20%20%20%20%20%20%20%20tsMatch%5B2%5D%20%2B%20'h%20'%20%2B%20tsMatch%5B3%5D%20%2B%20'm%20'%20%2B%20tsMatch%5B4%5D%20%2B%20's'%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20val%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(typeof%20val%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%2F%2F%20Assume%20seconds%0A%20%20%20%20%20%20var%20hrs%20%3D%20Math.floor(val%20%2F%203600)%3B%0A%20%20%20%20%20%20var%20mins%20%3D%20Math.floor((val%20%25%203600)%20%2F%2060)%3B%0A%20%20%20%20%20%20var%20secs%20%3D%20Math.round(val%20%25%2060)%3B%0A%20%20%20%20%20%20return%20hrs%20%2B%20'h%20'%20%2B%20mins%20%2B%20'm%20'%20%2B%20secs%20%2B%20's'%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20String(val)%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Filter%20rows%20by%20search%20query%20*%2F%0A%20%20function%20filter(query)%20%7B%0A%20%20%20%20filterQuery%20%3D%20(query%20%7C%7C%20'').toLowerCase().trim()%3B%0A%20%20%20%20if%20(!currentOpts)%20return%3B%0A%0A%20%20%20%20if%20(!filterQuery)%20%7B%0A%20%20%20%20%20%20filteredRows%20%3D%20currentOpts.rows.slice()%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20filteredRows%20%3D%20currentOpts.rows.filter(function%20(row)%20%7B%0A%20%20%20%20%20%20%20%20return%20currentOpts.fields.some(function%20(f)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20val%20%3D%20DataTypes.resolvePath(row%2C%20f.key)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20display%20%3D%20formatValue(val%2C%20f)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20display.toLowerCase().indexOf(filterQuery)%20%3E%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Re-apply%20sort%20if%20active%0A%20%20%20%20if%20(sortCol%20%3E%3D%200%20%26%26%20currentOpts.fields%5BsortCol%5D)%20%7B%0A%20%20%20%20%20%20var%20field%20%3D%20currentOpts.fields%5BsortCol%5D%3B%0A%20%20%20%20%20%20filteredRows.sort(function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20%20%20var%20va%20%3D%20DataTypes.resolvePath(a%2C%20field.key)%3B%0A%20%20%20%20%20%20%20%20var%20vb%20%3D%20DataTypes.resolvePath(b%2C%20field.key)%3B%0A%20%20%20%20%20%20%20%20return%20compareValues(va%2C%20vb%2C%20field.type%2C%20sortDir)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20currentPage%20%3D%200%3B%0A%20%20%20%20drawTable()%3B%0A%20%20%7D%0A%0A%20%20function%20nextPage()%20%7B%0A%20%20%20%20if%20(!currentOpts)%20return%3B%0A%20%20%20%20var%20pageSize%20%3D%20currentOpts.pageSize%20%7C%7C%2050%3B%0A%20%20%20%20var%20totalPages%20%3D%20Math.ceil(filteredRows.length%20%2F%20pageSize)%3B%0A%20%20%20%20if%20(currentPage%20%3C%20totalPages%20-%201)%20%7B%0A%20%20%20%20%20%20currentPage%2B%2B%3B%0A%20%20%20%20%20%20drawTable()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20prevPage()%20%7B%0A%20%20%20%20if%20(currentPage%20%3E%200)%20%7B%0A%20%20%20%20%20%20currentPage--%3B%0A%20%20%20%20%20%20drawTable()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20updatePagination(start%2C%20end%2C%20total)%20%7B%0A%20%20%20%20if%20(!currentOpts)%20return%3B%0A%20%20%20%20var%20info%20%3D%20document.getElementById(currentOpts.pageInfoId)%3B%0A%20%20%20%20var%20prev%20%3D%20document.getElementById(currentOpts.prevBtnId)%3B%0A%20%20%20%20var%20next%20%3D%20document.getElementById(currentOpts.nextBtnId)%3B%0A%0A%20%20%20%20if%20(total%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20info.textContent%20%3D%20'No%20results'%3B%0A%20%20%20%20%20%20prev.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20next.disabled%20%3D%20true%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20info.textContent%20%3D%20'Showing%20'%20%2B%20start%20%2B%20'%20-%20'%20%2B%20end%20%2B%20'%20of%20'%20%2B%20total%3B%0A%20%20%20%20prev.disabled%20%3D%20currentPage%20%3D%3D%3D%200%3B%0A%0A%20%20%20%20var%20pageSize%20%3D%20currentOpts.pageSize%20%7C%7C%2050%3B%0A%20%20%20%20var%20totalPages%20%3D%20Math.ceil(total%20%2F%20pageSize)%3B%0A%20%20%20%20next.disabled%20%3D%20currentPage%20%3E%3D%20totalPages%20-%201%3B%0A%20%20%7D%0A%0A%20%20%2F**%20Get%20the%20currently%20filtered%20rows%20(for%20CSV%20export)%20*%2F%0A%20%20function%20getFilteredRows()%20%7B%0A%20%20%20%20return%20filteredRows%3B%0A%20%20%7D%0A%0A%20%20function%20escapeHtml(str)%20%7B%0A%20%20%20%20if%20(!str)%20return%20''%3B%0A%20%20%20%20return%20String(str)%0A%20%20%20%20%20%20.replace(%2F%26%2Fg%2C%20'%26amp%3B')%0A%20%20%20%20%20%20.replace(%2F%3C%2Fg%2C%20'%26lt%3B')%0A%20%20%20%20%20%20.replace(%2F%3E%2Fg%2C%20'%26gt%3B')%0A%20%20%20%20%20%20.replace(%2F%22%2Fg%2C%20'%26quot%3B')%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20render%3A%20render%2C%0A%20%20%20%20filter%3A%20filter%2C%0A%20%20%20%20nextPage%3A%20nextPage%2C%0A%20%20%20%20prevPage%3A%20prevPage%2C%0A%20%20%20%20getFilteredRows%3A%20getFilteredRows%2C%0A%20%20%20%20formatValue%3A%20formatValue%0A%20%20%7D%3B%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%3Cscript%3E%2F**%0A%20*%20csvExporter.js%20%E2%80%94%20Exports%20table%20data%20as%20CSV%20with%20UTF-8%20BOM%20for%20Excel%20compatibility.%0A%20*%2F%0Avar%20CsvExporter%20%3D%20(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F**%0A%20%20%20*%20Export%20data%20as%20a%20CSV%20file%20download.%0A%20%20%20*%20%40param%20%7BArray%7D%20fields%20%E2%80%94%20field%20definitions%20(same%20as%20table%20columns)%0A%20%20%20*%20%40param%20%7BArray%7D%20rows%20%E2%80%94%20data%20rows%0A%20%20%20*%20%40param%20%7Bstring%7D%20filenameBase%20%E2%80%94%20base%20name%20for%20the%20file%0A%20%20%20*%2F%0A%20%20function%20exportCsv(fields%2C%20rows%2C%20filenameBase)%20%7B%0A%20%20%20%20if%20(!fields%20%7C%7C%20fields.length%20%3D%3D%3D%200%20%7C%7C%20!rows)%20return%3B%0A%0A%20%20%20%20%2F%2F%20Use%20filtered%20rows%20from%20the%20table%20if%20available%0A%20%20%20%20var%20exportRows%20%3D%20TableRenderer.getFilteredRows()%3B%0A%20%20%20%20if%20(!exportRows%20%7C%7C%20exportRows.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20exportRows%20%3D%20rows%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20lines%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%2F%2F%20Header%20row%0A%20%20%20%20var%20header%20%3D%20fields.map(function%20(f)%20%7B%0A%20%20%20%20%20%20return%20csvEscape(f.label)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20lines.push(header.join('%2C'))%3B%0A%0A%20%20%20%20%2F%2F%20Data%20rows%0A%20%20%20%20exportRows.forEach(function%20(row)%20%7B%0A%20%20%20%20%20%20var%20cells%20%3D%20fields.map(function%20(f)%20%7B%0A%20%20%20%20%20%20%20%20var%20val%20%3D%20DataTypes.resolvePath(row%2C%20f.key)%3B%0A%20%20%20%20%20%20%20%20var%20display%20%3D%20TableRenderer.formatValue(val%2C%20f)%3B%0A%20%20%20%20%20%20%20%20return%20csvEscape(display)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20lines.push(cells.join('%2C'))%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20var%20csvContent%20%3D%20lines.join('%5Cr%5Cn')%3B%0A%0A%20%20%20%20%2F%2F%20UTF-8%20BOM%20for%20Excel%0A%20%20%20%20var%20bom%20%3D%20'%5CuFEFF'%3B%0A%20%20%20%20var%20blob%20%3D%20new%20Blob(%5Bbom%20%2B%20csvContent%5D%2C%20%7B%20type%3A%20'text%2Fcsv%3Bcharset%3Dutf-8%3B'%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Generate%20filename%20with%20timestamp%0A%20%20%20%20var%20now%20%3D%20new%20Date()%3B%0A%20%20%20%20var%20ts%20%3D%20now.getFullYear()%20%2B%0A%20%20%20%20%20%20String(now.getMonth()%20%2B%201).padStart(2%2C%20'0')%20%2B%0A%20%20%20%20%20%20String(now.getDate()).padStart(2%2C%20'0')%20%2B%20'_'%20%2B%0A%20%20%20%20%20%20String(now.getHours()).padStart(2%2C%20'0')%20%2B%0A%20%20%20%20%20%20String(now.getMinutes()).padStart(2%2C%20'0')%3B%0A%0A%20%20%20%20var%20filename%20%3D%20(filenameBase%20%7C%7C%20'export').replace(%2F%5B%5Ea-zA-Z0-9_-%5D%2Fg%2C%20'_')%20%2B%20'_'%20%2B%20ts%20%2B%20'.csv'%3B%0A%0A%20%20%20%20%2F%2F%20Trigger%20download%0A%20%20%20%20var%20url%20%3D%20URL.createObjectURL(blob)%3B%0A%20%20%20%20var%20a%20%3D%20document.createElement('a')%3B%0A%20%20%20%20a.href%20%3D%20url%3B%0A%20%20%20%20a.download%20%3D%20filename%3B%0A%20%20%20%20a.style.display%20%3D%20'none'%3B%0A%20%20%20%20document.body.appendChild(a)%3B%0A%20%20%20%20a.click()%3B%0A%0A%20%20%20%20%2F%2F%20Cleanup%0A%20%20%20%20setTimeout(function%20()%20%7B%0A%20%20%20%20%20%20document.body.removeChild(a)%3B%0A%20%20%20%20%20%20URL.revokeObjectURL(url)%3B%0A%20%20%20%20%7D%2C%20100)%3B%0A%20%20%7D%0A%0A%20%20function%20csvEscape(val)%20%7B%0A%20%20%20%20if%20(val%20%3D%3D%20null)%20return%20''%3B%0A%20%20%20%20var%20str%20%3D%20String(val)%3B%0A%20%20%20%20%2F%2F%20Wrap%20in%20quotes%20if%20it%20contains%20comma%2C%20quote%2C%20or%20newline%0A%20%20%20%20if%20(str.indexOf('%2C')%20%3E%3D%200%20%7C%7C%20str.indexOf('%22')%20%3E%3D%200%20%7C%7C%20str.indexOf('%5Cn')%20%3E%3D%200%20%7C%7C%20str.indexOf('%5Cr')%20%3E%3D%200)%20%7B%0A%20%20%20%20%20%20return%20'%22'%20%2B%20str.replace(%2F%22%2Fg%2C%20'%22%22')%20%2B%20'%22'%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20str%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20exportCsv%3A%20exportCsv%0A%20%20%7D%3B%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%3Cscript%3E%2F**%0A%20*%20chartRenderer.js%20%E2%80%94%20Canvas-based%20bar%2C%20line%2C%20and%20pie%20charts.%20No%20external%20libraries.%0A%20*%2F%0Avar%20ChartRenderer%20%3D%20(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F%2F%20Color%20palette%0A%20%20var%20COLORS%20%3D%20%5B%0A%20%20%20%20'%23005f9e'%2C%20'%2328a745'%2C%20'%23fd7e14'%2C%20'%23dc3545'%2C%20'%236f42c1'%2C%0A%20%20%20%20'%2317a2b8'%2C%20'%23e83e8c'%2C%20'%2320c997'%2C%20'%23ffc107'%2C%20'%236c757d'%2C%0A%20%20%20%20'%230056b3'%2C%20'%231e7e34'%2C%20'%23d63384'%2C%20'%230dcaf0'%2C%20'%23198754'%2C%0A%20%20%20%20'%236610f2'%2C%20'%23d63384'%2C%20'%23f8f9fa'%2C%20'%23495057'%2C%20'%23adb5bd'%0A%20%20%5D%3B%0A%0A%20%20%2F**%0A%20%20%20*%20Render%20a%20chart%20on%20a%20canvas%20element.%0A%20%20%20*%20%40param%20%7Bobject%7D%20opts%0A%20%20%20*%20%20%20opts.canvasId%20%20%20%20%20%20%20%E2%80%94%20DOM%20id%20of%20the%20canvas%0A%20%20%20*%20%20%20opts.chartType%20%20%20%20%20%20%E2%80%94%20%22bar%22%20%7C%20%22line%22%20%7C%20%22pie%22%0A%20%20%20*%20%20%20opts.rows%20%20%20%20%20%20%20%20%20%20%20%E2%80%94%20data%20rows%0A%20%20%20*%20%20%20opts.valueFieldKey%20%20%E2%80%94%20dot-path%20to%20numeric%20value%0A%20%20%20*%20%20%20opts.groupFieldKey%20%20%E2%80%94%20dot-path%20to%20group-by%20value%0A%20%20%20*%20%20%20opts.groupFieldDef%20%20%E2%80%94%20field%20definition%20for%20group%20field%20(for%20resolving)%0A%20%20%20*%20%20%20opts.maxGroups%20%20%20%20%20%20%E2%80%94%20max%20number%20of%20groups%20to%20show%20(default%2020)%0A%20%20%20*%2F%0A%20%20function%20render(opts)%20%7B%0A%20%20%20%20var%20canvas%20%3D%20document.getElementById(opts.canvasId)%3B%0A%20%20%20%20if%20(!canvas)%20return%3B%0A%0A%20%20%20%20var%20ctx%20%3D%20canvas.getContext('2d')%3B%0A%20%20%20%20var%20container%20%3D%20canvas.parentElement%3B%0A%0A%20%20%20%20%2F%2F%20Set%20canvas%20size%20to%20match%20container%0A%20%20%20%20canvas.width%20%3D%20container.clientWidth%3B%0A%20%20%20%20canvas.height%20%3D%20container.clientHeight%3B%0A%0A%20%20%20%20%2F%2F%20Aggregate%20data%3A%20group%20-%3E%20sum%20of%20values%0A%20%20%20%20var%20groups%20%3D%20%7B%7D%3B%0A%20%20%20%20var%20maxGroups%20%3D%20opts.maxGroups%20%7C%7C%2020%3B%0A%0A%20%20%20%20opts.rows.forEach(function%20(row)%20%7B%0A%20%20%20%20%20%20var%20rawGroup%20%3D%20DataTypes.resolvePath(row%2C%20opts.groupFieldKey)%3B%0A%20%20%20%20%20%20var%20groupLabel%3B%0A%0A%20%20%20%20%20%20if%20(opts.groupFieldDef%20%26%26%20opts.groupFieldDef.resolve)%20%7B%0A%20%20%20%20%20%20%20%20groupLabel%20%3D%20CacheManager.resolve(opts.groupFieldDef.resolve%2C%20rawGroup)%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(opts.groupFieldDef%20%26%26%20opts.groupFieldDef.type%20%3D%3D%3D%20'date')%20%7B%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20d%20%3D%20new%20Date(rawGroup)%3B%0A%20%20%20%20%20%20%20%20%20%20groupLabel%20%3D%20d.toLocaleDateString()%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20(e)%20%7B%0A%20%20%20%20%20%20%20%20%20%20groupLabel%20%3D%20String(rawGroup%20%7C%7C%20'(empty)')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20groupLabel%20%3D%20String(rawGroup%20%7C%7C%20'(empty)')%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20val%20%3D%20DataTypes.resolvePath(row%2C%20opts.valueFieldKey)%3B%0A%20%20%20%20%20%20var%20num%20%3D%20parseFloat(val)%20%7C%7C%200%3B%0A%0A%20%20%20%20%20%20if%20(!groups%5BgroupLabel%5D)%20%7B%0A%20%20%20%20%20%20%20%20groups%5BgroupLabel%5D%20%3D%20%7B%20sum%3A%200%2C%20count%3A%200%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20groups%5BgroupLabel%5D.sum%20%2B%3D%20num%3B%0A%20%20%20%20%20%20groups%5BgroupLabel%5D.count%20%2B%3D%201%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Sort%20by%20sum%20descending%2C%20limit%20groups%0A%20%20%20%20var%20sorted%20%3D%20Object.keys(groups).map(function%20(label)%20%7B%0A%20%20%20%20%20%20return%20%7B%20label%3A%20label%2C%20sum%3A%20groups%5Blabel%5D.sum%2C%20count%3A%20groups%5Blabel%5D.count%20%7D%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20sorted.sort(function%20(a%2C%20b)%20%7B%20return%20b.sum%20-%20a.sum%3B%20%7D)%3B%0A%0A%20%20%20%20if%20(sorted.length%20%3E%20maxGroups)%20%7B%0A%20%20%20%20%20%20var%20others%20%3D%20sorted.slice(maxGroups).reduce(function%20(acc%2C%20g)%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%20label%3A%20'Others'%2C%20sum%3A%20acc.sum%20%2B%20g.sum%2C%20count%3A%20acc.count%20%2B%20g.count%20%7D%3B%0A%20%20%20%20%20%20%7D%2C%20%7B%20label%3A%20'Others'%2C%20sum%3A%200%2C%20count%3A%200%20%7D)%3B%0A%20%20%20%20%20%20sorted%20%3D%20sorted.slice(0%2C%20maxGroups)%3B%0A%20%20%20%20%20%20sorted.push(others)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Clear%20canvas%0A%20%20%20%20ctx.clearRect(0%2C%200%2C%20canvas.width%2C%20canvas.height)%3B%0A%0A%20%20%20%20if%20(sorted.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20'%23868e96'%3B%0A%20%20%20%20%20%20ctx.font%20%3D%20'14px%20sans-serif'%3B%0A%20%20%20%20%20%20ctx.textAlign%20%3D%20'center'%3B%0A%20%20%20%20%20%20ctx.fillText('No%20data%20to%20chart.'%2C%20canvas.width%20%2F%202%2C%20canvas.height%20%2F%202)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch%20(opts.chartType)%20%7B%0A%20%20%20%20%20%20case%20'bar'%3A%0A%20%20%20%20%20%20%20%20drawBarChart(ctx%2C%20canvas%2C%20sorted)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20'line'%3A%0A%20%20%20%20%20%20%20%20drawLineChart(ctx%2C%20canvas%2C%20sorted)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20'pie'%3A%0A%20%20%20%20%20%20%20%20drawPieChart(ctx%2C%20canvas%2C%20sorted)%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Bar%20Chart%20----%0A%20%20function%20drawBarChart(ctx%2C%20canvas%2C%20data)%20%7B%0A%20%20%20%20var%20w%20%3D%20canvas.width%3B%0A%20%20%20%20var%20h%20%3D%20canvas.height%3B%0A%20%20%20%20var%20padding%20%3D%20%7B%20top%3A%2030%2C%20right%3A%2020%2C%20bottom%3A%2080%2C%20left%3A%2070%20%7D%3B%0A%20%20%20%20var%20chartW%20%3D%20w%20-%20padding.left%20-%20padding.right%3B%0A%20%20%20%20var%20chartH%20%3D%20h%20-%20padding.top%20-%20padding.bottom%3B%0A%0A%20%20%20%20var%20maxVal%20%3D%20Math.max.apply(null%2C%20data.map(function%20(d)%20%7B%20return%20d.sum%3B%20%7D))%3B%0A%20%20%20%20if%20(maxVal%20%3D%3D%3D%200)%20maxVal%20%3D%201%3B%0A%0A%20%20%20%20var%20barWidth%20%3D%20Math.max(10%2C%20(chartW%20%2F%20data.length)%20-%204)%3B%0A%20%20%20%20var%20gap%20%3D%20(chartW%20-%20barWidth%20*%20data.length)%20%2F%20(data.length%20%2B%201)%3B%0A%0A%20%20%20%20%2F%2F%20Y%20axis%0A%20%20%20%20ctx.strokeStyle%20%3D%20'%23dee2e6'%3B%0A%20%20%20%20ctx.lineWidth%20%3D%201%3B%0A%20%20%20%20ctx.fillStyle%20%3D%20'%23495057'%3B%0A%20%20%20%20ctx.font%20%3D%20'11px%20sans-serif'%3B%0A%20%20%20%20ctx.textAlign%20%3D%20'right'%3B%0A%0A%20%20%20%20var%20yTicks%20%3D%205%3B%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%3D%20yTicks%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20var%20yVal%20%3D%20(maxVal%20%2F%20yTicks)%20*%20i%3B%0A%20%20%20%20%20%20var%20yPos%20%3D%20padding.top%20%2B%20chartH%20-%20(chartH%20*%20(yVal%20%2F%20maxVal))%3B%0A%20%20%20%20%20%20ctx.beginPath()%3B%0A%20%20%20%20%20%20ctx.moveTo(padding.left%2C%20yPos)%3B%0A%20%20%20%20%20%20ctx.lineTo(w%20-%20padding.right%2C%20yPos)%3B%0A%20%20%20%20%20%20ctx.stroke()%3B%0A%20%20%20%20%20%20ctx.fillText(formatNumber(yVal)%2C%20padding.left%20-%208%2C%20yPos%20%2B%204)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Bars%0A%20%20%20%20data.forEach(function%20(d%2C%20idx)%20%7B%0A%20%20%20%20%20%20var%20x%20%3D%20padding.left%20%2B%20gap%20%2B%20idx%20*%20(barWidth%20%2B%20gap)%3B%0A%20%20%20%20%20%20var%20barH%20%3D%20(d.sum%20%2F%20maxVal)%20*%20chartH%3B%0A%20%20%20%20%20%20var%20y%20%3D%20padding.top%20%2B%20chartH%20-%20barH%3B%0A%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20COLORS%5Bidx%20%25%20COLORS.length%5D%3B%0A%20%20%20%20%20%20ctx.fillRect(x%2C%20y%2C%20barWidth%2C%20barH)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Value%20label%20on%20top%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20'%23343a40'%3B%0A%20%20%20%20%20%20ctx.font%20%3D%20'10px%20sans-serif'%3B%0A%20%20%20%20%20%20ctx.textAlign%20%3D%20'center'%3B%0A%20%20%20%20%20%20ctx.fillText(formatNumber(d.sum)%2C%20x%20%2B%20barWidth%20%2F%202%2C%20y%20-%204)%3B%0A%0A%20%20%20%20%20%20%2F%2F%20X%20label%0A%20%20%20%20%20%20ctx.save()%3B%0A%20%20%20%20%20%20ctx.translate(x%20%2B%20barWidth%20%2F%202%2C%20padding.top%20%2B%20chartH%20%2B%2010)%3B%0A%20%20%20%20%20%20ctx.rotate(Math.PI%20%2F%204)%3B%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20'%23495057'%3B%0A%20%20%20%20%20%20ctx.font%20%3D%20'10px%20sans-serif'%3B%0A%20%20%20%20%20%20ctx.textAlign%20%3D%20'left'%3B%0A%20%20%20%20%20%20var%20label%20%3D%20truncateLabel(d.label%2C%2018)%3B%0A%20%20%20%20%20%20ctx.fillText(label%2C%200%2C%200)%3B%0A%20%20%20%20%20%20ctx.restore()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Line%20Chart%20----%0A%20%20function%20drawLineChart(ctx%2C%20canvas%2C%20data)%20%7B%0A%20%20%20%20var%20w%20%3D%20canvas.width%3B%0A%20%20%20%20var%20h%20%3D%20canvas.height%3B%0A%20%20%20%20var%20padding%20%3D%20%7B%20top%3A%2030%2C%20right%3A%2020%2C%20bottom%3A%2080%2C%20left%3A%2070%20%7D%3B%0A%20%20%20%20var%20chartW%20%3D%20w%20-%20padding.left%20-%20padding.right%3B%0A%20%20%20%20var%20chartH%20%3D%20h%20-%20padding.top%20-%20padding.bottom%3B%0A%0A%20%20%20%20var%20maxVal%20%3D%20Math.max.apply(null%2C%20data.map(function%20(d)%20%7B%20return%20d.sum%3B%20%7D))%3B%0A%20%20%20%20if%20(maxVal%20%3D%3D%3D%200)%20maxVal%20%3D%201%3B%0A%0A%20%20%20%20%2F%2F%20Grid%0A%20%20%20%20ctx.strokeStyle%20%3D%20'%23dee2e6'%3B%0A%20%20%20%20ctx.lineWidth%20%3D%201%3B%0A%20%20%20%20ctx.fillStyle%20%3D%20'%23495057'%3B%0A%20%20%20%20ctx.font%20%3D%20'11px%20sans-serif'%3B%0A%20%20%20%20ctx.textAlign%20%3D%20'right'%3B%0A%0A%20%20%20%20var%20yTicks%20%3D%205%3B%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%3D%20yTicks%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20var%20yVal%20%3D%20(maxVal%20%2F%20yTicks)%20*%20i%3B%0A%20%20%20%20%20%20var%20yPos%20%3D%20padding.top%20%2B%20chartH%20-%20(chartH%20*%20(yVal%20%2F%20maxVal))%3B%0A%20%20%20%20%20%20ctx.beginPath()%3B%0A%20%20%20%20%20%20ctx.moveTo(padding.left%2C%20yPos)%3B%0A%20%20%20%20%20%20ctx.lineTo(w%20-%20padding.right%2C%20yPos)%3B%0A%20%20%20%20%20%20ctx.stroke()%3B%0A%20%20%20%20%20%20ctx.fillText(formatNumber(yVal)%2C%20padding.left%20-%208%2C%20yPos%20%2B%204)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Line%0A%20%20%20%20var%20step%20%3D%20data.length%20%3E%201%20%3F%20chartW%20%2F%20(data.length%20-%201)%20%3A%20chartW%20%2F%202%3B%0A%0A%20%20%20%20ctx.beginPath()%3B%0A%20%20%20%20ctx.strokeStyle%20%3D%20COLORS%5B0%5D%3B%0A%20%20%20%20ctx.lineWidth%20%3D%202%3B%0A%0A%20%20%20%20data.forEach(function%20(d%2C%20idx)%20%7B%0A%20%20%20%20%20%20var%20x%20%3D%20padding.left%20%2B%20idx%20*%20step%3B%0A%20%20%20%20%20%20var%20y%20%3D%20padding.top%20%2B%20chartH%20-%20(d.sum%20%2F%20maxVal)%20*%20chartH%3B%0A%20%20%20%20%20%20if%20(idx%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20ctx.moveTo(x%2C%20y)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20ctx.lineTo(x%2C%20y)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20ctx.stroke()%3B%0A%0A%20%20%20%20%2F%2F%20Points%20%2B%20labels%0A%20%20%20%20data.forEach(function%20(d%2C%20idx)%20%7B%0A%20%20%20%20%20%20var%20x%20%3D%20padding.left%20%2B%20idx%20*%20step%3B%0A%20%20%20%20%20%20var%20y%20%3D%20padding.top%20%2B%20chartH%20-%20(d.sum%20%2F%20maxVal)%20*%20chartH%3B%0A%0A%20%20%20%20%20%20ctx.beginPath()%3B%0A%20%20%20%20%20%20ctx.arc(x%2C%20y%2C%204%2C%200%2C%20Math.PI%20*%202)%3B%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20COLORS%5B0%5D%3B%0A%20%20%20%20%20%20ctx.fill()%3B%0A%0A%20%20%20%20%20%20%2F%2F%20X%20label%0A%20%20%20%20%20%20ctx.save()%3B%0A%20%20%20%20%20%20ctx.translate(x%2C%20padding.top%20%2B%20chartH%20%2B%2010)%3B%0A%20%20%20%20%20%20ctx.rotate(Math.PI%20%2F%204)%3B%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20'%23495057'%3B%0A%20%20%20%20%20%20ctx.font%20%3D%20'10px%20sans-serif'%3B%0A%20%20%20%20%20%20ctx.textAlign%20%3D%20'left'%3B%0A%20%20%20%20%20%20ctx.fillText(truncateLabel(d.label%2C%2018)%2C%200%2C%200)%3B%0A%20%20%20%20%20%20ctx.restore()%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Pie%20Chart%20----%0A%20%20function%20drawPieChart(ctx%2C%20canvas%2C%20data)%20%7B%0A%20%20%20%20var%20w%20%3D%20canvas.width%3B%0A%20%20%20%20var%20h%20%3D%20canvas.height%3B%0A%20%20%20%20var%20cx%20%3D%20w%20*%200.4%3B%0A%20%20%20%20var%20cy%20%3D%20h%20%2F%202%3B%0A%20%20%20%20var%20radius%20%3D%20Math.min(cx%20-%2040%2C%20cy%20-%2040)%3B%0A%20%20%20%20if%20(radius%20%3C%2030)%20radius%20%3D%2030%3B%0A%0A%20%20%20%20var%20total%20%3D%20data.reduce(function%20(acc%2C%20d)%20%7B%20return%20acc%20%2B%20d.sum%3B%20%7D%2C%200)%3B%0A%20%20%20%20if%20(total%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20'%23868e96'%3B%0A%20%20%20%20%20%20ctx.font%20%3D%20'14px%20sans-serif'%3B%0A%20%20%20%20%20%20ctx.textAlign%20%3D%20'center'%3B%0A%20%20%20%20%20%20ctx.fillText('No%20data%20to%20chart.'%2C%20w%20%2F%202%2C%20h%20%2F%202)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20startAngle%20%3D%20-Math.PI%20%2F%202%3B%0A%0A%20%20%20%20data.forEach(function%20(d%2C%20idx)%20%7B%0A%20%20%20%20%20%20var%20slice%20%3D%20(d.sum%20%2F%20total)%20*%20Math.PI%20*%202%3B%0A%0A%20%20%20%20%20%20ctx.beginPath()%3B%0A%20%20%20%20%20%20ctx.moveTo(cx%2C%20cy)%3B%0A%20%20%20%20%20%20ctx.arc(cx%2C%20cy%2C%20radius%2C%20startAngle%2C%20startAngle%20%2B%20slice)%3B%0A%20%20%20%20%20%20ctx.closePath()%3B%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20COLORS%5Bidx%20%25%20COLORS.length%5D%3B%0A%20%20%20%20%20%20ctx.fill()%3B%0A%20%20%20%20%20%20ctx.strokeStyle%20%3D%20'%23fff'%3B%0A%20%20%20%20%20%20ctx.lineWidth%20%3D%202%3B%0A%20%20%20%20%20%20ctx.stroke()%3B%0A%0A%20%20%20%20%20%20startAngle%20%2B%3D%20slice%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Legend%0A%20%20%20%20var%20legendX%20%3D%20w%20*%200.65%3B%0A%20%20%20%20var%20legendY%20%3D%2030%3B%0A%20%20%20%20var%20legendRowH%20%3D%2020%3B%0A%0A%20%20%20%20ctx.font%20%3D%20'11px%20sans-serif'%3B%0A%20%20%20%20ctx.textAlign%20%3D%20'left'%3B%0A%0A%20%20%20%20data.forEach(function%20(d%2C%20idx)%20%7B%0A%20%20%20%20%20%20var%20y%20%3D%20legendY%20%2B%20idx%20*%20legendRowH%3B%0A%20%20%20%20%20%20if%20(y%20%2B%20legendRowH%20%3E%20h)%20return%3B%20%2F%2F%20overflow%20protection%0A%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20COLORS%5Bidx%20%25%20COLORS.length%5D%3B%0A%20%20%20%20%20%20ctx.fillRect(legendX%2C%20y%2C%2012%2C%2012)%3B%0A%0A%20%20%20%20%20%20ctx.fillStyle%20%3D%20'%23343a40'%3B%0A%20%20%20%20%20%20var%20pct%20%3D%20total%20%3E%200%20%3F%20((d.sum%20%2F%20total)%20*%20100).toFixed(1)%20%3A%20'0'%3B%0A%20%20%20%20%20%20var%20text%20%3D%20truncateLabel(d.label%2C%2016)%20%2B%20'%20('%20%2B%20pct%20%2B%20'%25)'%3B%0A%20%20%20%20%20%20ctx.fillText(text%2C%20legendX%20%2B%2018%2C%20y%20%2B%2010)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Helpers%20----%0A%20%20function%20formatNumber(n)%20%7B%0A%20%20%20%20if%20(Math.abs(n)%20%3E%3D%201000000)%20return%20(n%20%2F%201000000).toFixed(1)%20%2B%20'M'%3B%0A%20%20%20%20if%20(Math.abs(n)%20%3E%3D%201000)%20return%20(n%20%2F%201000).toFixed(1)%20%2B%20'K'%3B%0A%20%20%20%20return%20n%20%25%201%20%3D%3D%3D%200%20%3F%20String(n)%20%3A%20n.toFixed(1)%3B%0A%20%20%7D%0A%0A%20%20function%20truncateLabel(str%2C%20max)%20%7B%0A%20%20%20%20if%20(!str)%20return%20''%3B%0A%20%20%20%20if%20(str.length%20%3C%3D%20max)%20return%20str%3B%0A%20%20%20%20return%20str.substring(0%2C%20max%20-%201)%20%2B%20'%5Cu2026'%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20render%3A%20render%0A%20%20%7D%3B%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%3Cscript%3E%2F**%0A%20*%20main.js%20%E2%80%94%20Add-in%20entry%20point%20and%20lifecycle.%0A%20*%20MyGeotab%20calls%20the%20global%20%60geotab.addin.flexibleDataReporter%60%20hooks.%0A%20*%2F%0A(function%20()%20%7B%0A%20%20'use%20strict'%3B%0A%0A%20%20%2F%2F%20State%0A%20%20var%20state%20%3D%20%7B%0A%20%20%20%20api%3A%20null%2C%0A%20%20%20%20page%3A%20null%2C%0A%20%20%20%20selectedCategories%3A%20%5B%5D%2C%0A%20%20%20%20selectedFields%3A%20%7B%7D%2C%20%20%20%20%2F%2F%20%7B%20categoryKey%3A%20%5Bfield%20objects%5D%20%7D%0A%20%20%20%20results%3A%20%7B%7D%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%7B%20categoryKey%3A%20%5Brows%5D%20%7D%0A%20%20%20%20activeTab%3A%20null%2C%0A%20%20%20%20chartVisible%3A%20false%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20----%20Lifecycle%20hooks%20expected%20by%20MyGeotab%20----%0A%0A%20%20if%20(!window.geotab)%20window.geotab%20%3D%20%7B%7D%3B%0A%20%20if%20(!window.geotab.addin)%20window.geotab.addin%20%3D%20%7B%7D%3B%0A%0A%20%20window.geotab.addin.flexibleDataReporter%20%3D%20%7B%0A%20%20%20%20initialize%3A%20function%20(api%2C%20page%2C%20callback)%20%7B%0A%20%20%20%20%20%20state.api%20%3D%20api%3B%0A%20%20%20%20%20%20state.page%20%3D%20page%3B%0A%0A%20%20%20%20%20%20initUI()%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Load%20caches%20then%20populate%20device%20dropdown%0A%20%20%20%20%20%20setStatus('Loading%20fleet%20data...')%3B%0A%20%20%20%20%20%20CacheManager.init(api)%0A%20%20%20%20%20%20%20%20.then(function%20()%20%7B%0A%20%20%20%20%20%20%20%20%20%20populateDeviceDropdown()%3B%0A%20%20%20%20%20%20%20%20%20%20setStatus('')%3B%0A%20%20%20%20%20%20%20%20%20%20callback()%3B%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20.catch(function%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20setStatus('Cache%20load%20error%3A%20'%20%2B%20(err.message%20%7C%7C%20err)%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%20%20callback()%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20focus%3A%20function%20(api%2C%20page)%20%7B%0A%20%20%20%20%20%20state.api%20%3D%20api%3B%0A%20%20%20%20%20%20state.page%20%3D%20page%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20blur%3A%20function%20()%20%7B%0A%20%20%20%20%20%20%2F%2F%20Nothing%20to%20clean%20up%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20----%20UI%20Initialization%20----%0A%0A%20%20function%20initUI()%20%7B%0A%20%20%20%20buildCategoryCheckboxes()%3B%0A%20%20%20%20setDefaultDates()%3B%0A%20%20%20%20bindEvents()%3B%0A%20%20%7D%0A%0A%20%20function%20buildCategoryCheckboxes()%20%7B%0A%20%20%20%20var%20container%20%3D%20document.getElementById('fdrCategoryChecks')%3B%0A%20%20%20%20container.innerHTML%20%3D%20''%3B%0A%0A%20%20%20%20DataTypes.getCategoryKeys().forEach(function%20(key)%20%7B%0A%20%20%20%20%20%20var%20cat%20%3D%20DataTypes.getCategory(key)%3B%0A%20%20%20%20%20%20var%20label%20%3D%20document.createElement('label')%3B%0A%0A%20%20%20%20%20%20var%20cb%20%3D%20document.createElement('input')%3B%0A%20%20%20%20%20%20cb.type%20%3D%20'checkbox'%3B%0A%20%20%20%20%20%20cb.value%20%3D%20key%3B%0A%20%20%20%20%20%20cb.addEventListener('change'%2C%20onCategoryToggle)%3B%0A%0A%20%20%20%20%20%20label.appendChild(cb)%3B%0A%20%20%20%20%20%20label.appendChild(document.createTextNode(cat.label))%3B%0A%20%20%20%20%20%20container.appendChild(label)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20function%20setDefaultDates()%20%7B%0A%20%20%20%20var%20now%20%3D%20new%20Date()%3B%0A%20%20%20%20var%20weekAgo%20%3D%20new%20Date(now)%3B%0A%20%20%20%20weekAgo.setDate(weekAgo.getDate()%20-%207)%3B%0A%0A%20%20%20%20document.getElementById('fdrDateTo').value%20%3D%20formatDateInput(now)%3B%0A%20%20%20%20document.getElementById('fdrDateFrom').value%20%3D%20formatDateInput(weekAgo)%3B%0A%20%20%7D%0A%0A%20%20function%20formatDateInput(d)%20%7B%0A%20%20%20%20var%20y%20%3D%20d.getFullYear()%3B%0A%20%20%20%20var%20m%20%3D%20String(d.getMonth()%20%2B%201).padStart(2%2C%20'0')%3B%0A%20%20%20%20var%20day%20%3D%20String(d.getDate()).padStart(2%2C%20'0')%3B%0A%20%20%20%20return%20y%20%2B%20'-'%20%2B%20m%20%2B%20'-'%20%2B%20day%3B%0A%20%20%7D%0A%0A%20%20function%20populateDeviceDropdown()%20%7B%0A%20%20%20%20var%20select%20%3D%20document.getElementById('fdrDeviceSelect')%3B%0A%20%20%20%20var%20devices%20%3D%20CacheManager.getDevices()%3B%0A%20%20%20%20var%20ids%20%3D%20Object.keys(devices)%3B%0A%20%20%20%20ids.sort(function%20(a%2C%20b)%20%7B%0A%20%20%20%20%20%20return%20(devices%5Ba%5D%20%7C%7C%20'').localeCompare(devices%5Bb%5D%20%7C%7C%20'')%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20ids.forEach(function%20(id)%20%7B%0A%20%20%20%20%20%20var%20opt%20%3D%20document.createElement('option')%3B%0A%20%20%20%20%20%20opt.value%20%3D%20id%3B%0A%20%20%20%20%20%20opt.textContent%20%3D%20devices%5Bid%5D%3B%0A%20%20%20%20%20%20select.appendChild(opt)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Event%20Binding%20----%0A%0A%20%20function%20bindEvents()%20%7B%0A%20%20%20%20document.getElementById('fdrRunBtn').addEventListener('click'%2C%20runReport)%3B%0A%20%20%20%20document.getElementById('fdrExportCsvBtn').addEventListener('click'%2C%20exportCurrentTab)%3B%0A%20%20%20%20document.getElementById('fdrToggleChartBtn').addEventListener('click'%2C%20toggleChart)%3B%0A%20%20%20%20document.getElementById('fdrHideChartBtn').addEventListener('click'%2C%20hideChart)%3B%0A%20%20%20%20document.getElementById('fdrRenderChartBtn').addEventListener('click'%2C%20renderChart)%3B%0A%20%20%20%20document.getElementById('fdrSearch').addEventListener('input'%2C%20onSearchInput)%3B%0A%20%20%20%20document.getElementById('fdrPrevBtn').addEventListener('click'%2C%20function%20()%20%7B%20TableRenderer.prevPage()%3B%20%7D)%3B%0A%20%20%20%20document.getElementById('fdrNextBtn').addEventListener('click'%2C%20function%20()%20%7B%20TableRenderer.nextPage()%3B%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Category%20Toggle%20%26%20Column%20Pickers%20----%0A%0A%20%20function%20onCategoryToggle()%20%7B%0A%20%20%20%20state.selectedCategories%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20checks%20%3D%20document.querySelectorAll('%23fdrCategoryChecks%20input%5Btype%3Dcheckbox%5D')%3B%0A%20%20%20%20checks.forEach(function%20(cb)%20%7B%0A%20%20%20%20%20%20if%20(cb.checked)%20state.selectedCategories.push(cb.value)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20buildColumnPickers()%3B%0A%20%20%20%20updateDiagnosticPicker()%3B%0A%20%20%7D%0A%0A%20%20function%20buildColumnPickers()%20%7B%0A%20%20%20%20var%20container%20%3D%20document.getElementById('fdrColumnPickers')%3B%0A%20%20%20%20container.innerHTML%20%3D%20''%3B%0A%20%20%20%20state.selectedFields%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20state.selectedCategories.forEach(function%20(catKey)%20%7B%0A%20%20%20%20%20%20var%20cat%20%3D%20DataTypes.getCategory(catKey)%3B%0A%20%20%20%20%20%20if%20(!cat)%20return%3B%0A%0A%20%20%20%20%20%20state.selectedFields%5BcatKey%5D%20%3D%20cat.fields.filter(function%20(f)%20%7B%20return%20f.defaultOn%3B%20%7D)%3B%0A%0A%20%20%20%20%20%20var%20group%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20group.className%20%3D%20'fdr-column-group'%3B%0A%0A%20%20%20%20%20%20var%20title%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20title.className%20%3D%20'fdr-column-group-title'%3B%0A%20%20%20%20%20%20title.textContent%20%3D%20cat.label%20%2B%20'%20%E2%80%94%20Columns'%3B%0A%20%20%20%20%20%20group.appendChild(title)%3B%0A%0A%20%20%20%20%20%20var%20cols%20%3D%20document.createElement('div')%3B%0A%20%20%20%20%20%20cols.className%20%3D%20'fdr-columns'%3B%0A%0A%20%20%20%20%20%20cat.fields.forEach(function%20(field)%20%7B%0A%20%20%20%20%20%20%20%20var%20lbl%20%3D%20document.createElement('label')%3B%0A%20%20%20%20%20%20%20%20var%20cb%20%3D%20document.createElement('input')%3B%0A%20%20%20%20%20%20%20%20cb.type%20%3D%20'checkbox'%3B%0A%20%20%20%20%20%20%20%20cb.checked%20%3D%20field.defaultOn%3B%0A%20%20%20%20%20%20%20%20cb.dataset.category%20%3D%20catKey%3B%0A%20%20%20%20%20%20%20%20cb.dataset.fieldKey%20%3D%20field.key%3B%0A%20%20%20%20%20%20%20%20cb.addEventListener('change'%2C%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20%20%20updateSelectedFields(catKey%2C%20cat.fields)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20lbl.appendChild(cb)%3B%0A%20%20%20%20%20%20%20%20lbl.appendChild(document.createTextNode(field.label))%3B%0A%20%20%20%20%20%20%20%20cols.appendChild(lbl)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20group.appendChild(cols)%3B%0A%20%20%20%20%20%20container.appendChild(group)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20function%20updateSelectedFields(catKey%2C%20allFields)%20%7B%0A%20%20%20%20var%20checked%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20boxes%20%3D%20document.querySelectorAll(%0A%20%20%20%20%20%20'%23fdrColumnPickers%20input%5Bdata-category%3D%22'%20%2B%20catKey%20%2B%20'%22%5D'%0A%20%20%20%20)%3B%0A%20%20%20%20boxes.forEach(function%20(cb)%20%7B%0A%20%20%20%20%20%20if%20(cb.checked)%20%7B%0A%20%20%20%20%20%20%20%20var%20match%20%3D%20allFields.find(function%20(f)%20%7B%20return%20f.key%20%3D%3D%3D%20cb.dataset.fieldKey%3B%20%7D)%3B%0A%20%20%20%20%20%20%20%20if%20(match)%20checked.push(match)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20state.selectedFields%5BcatKey%5D%20%3D%20checked%3B%0A%20%20%7D%0A%0A%20%20function%20updateDiagnosticPicker()%20%7B%0A%20%20%20%20var%20picker%20%3D%20document.getElementById('fdrDiagnosticPicker')%3B%0A%20%20%20%20if%20(state.selectedCategories.indexOf('StatusData')%20%3E%3D%200)%20%7B%0A%20%20%20%20%20%20picker.classList.add('visible')%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20picker.classList.remove('visible')%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Run%20Report%20----%0A%0A%20%20function%20runReport()%20%7B%0A%20%20%20%20if%20(state.selectedCategories.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20setStatus('Select%20at%20least%20one%20data%20category.'%2C%20true)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Validate%20StatusData%20needs%20a%20diagnostic%0A%20%20%20%20if%20(state.selectedCategories.indexOf('StatusData')%20%3E%3D%200)%20%7B%0A%20%20%20%20%20%20var%20diagId%20%3D%20document.getElementById('fdrDiagnosticSelect').value%3B%0A%20%20%20%20%20%20if%20(!diagId)%20%7B%0A%20%20%20%20%20%20%20%20setStatus('Please%20select%20a%20diagnostic%20for%20Engine%2FStatus%20Data.'%2C%20true)%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20fromDate%20%3D%20document.getElementById('fdrDateFrom').value%3B%0A%20%20%20%20var%20toDate%20%3D%20document.getElementById('fdrDateTo').value%3B%0A%20%20%20%20var%20deviceId%20%3D%20document.getElementById('fdrDeviceSelect').value%20%7C%7C%20null%3B%0A%20%20%20%20var%20limit%20%3D%20parseInt(document.getElementById('fdrResultsLimit').value%2C%2010)%20%7C%7C%20500%3B%0A%20%20%20%20if%20(limit%20%3E%2050000)%20limit%20%3D%2050000%3B%0A%0A%20%20%20%20var%20runBtn%20%3D%20document.getElementById('fdrRunBtn')%3B%0A%20%20%20%20runBtn.disabled%20%3D%20true%3B%0A%20%20%20%20setStatus('%3Cspan%20class%3D%22fdr-spinner%22%3E%3C%2Fspan%3ERunning%20report...'%2C%20false%2C%20true)%3B%0A%0A%20%20%20%20QueryEngine.runQueries(state.api%2C%20%7B%0A%20%20%20%20%20%20categories%3A%20state.selectedCategories%2C%0A%20%20%20%20%20%20fromDate%3A%20fromDate%2C%0A%20%20%20%20%20%20toDate%3A%20toDate%2C%0A%20%20%20%20%20%20deviceId%3A%20deviceId%2C%0A%20%20%20%20%20%20resultsLimit%3A%20limit%2C%0A%20%20%20%20%20%20diagnosticId%3A%20document.getElementById('fdrDiagnosticSelect').value%20%7C%7C%20null%0A%20%20%20%20%7D%2C%20function%20(msg)%20%7B%0A%20%20%20%20%20%20setStatus('%3Cspan%20class%3D%22fdr-spinner%22%3E%3C%2Fspan%3E'%20%2B%20msg%2C%20false%2C%20true)%3B%0A%20%20%20%20%7D)%0A%20%20%20%20.then(function%20(results)%20%7B%0A%20%20%20%20%20%20state.results%20%3D%20results%3B%0A%20%20%20%20%20%20runBtn.disabled%20%3D%20false%3B%0A%0A%20%20%20%20%20%20var%20total%20%3D%200%3B%0A%20%20%20%20%20%20Object.keys(results).forEach(function%20(k)%20%7B%20total%20%2B%3D%20results%5Bk%5D.length%3B%20%7D)%3B%0A%0A%20%20%20%20%20%20if%20(total%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20setStatus('No%20data%20found%20for%20the%20selected%20criteria.'%2C%20true)%3B%0A%20%20%20%20%20%20%20%20document.getElementById('fdrResultsPanel').classList.remove('visible')%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20setStatus('Done%20%E2%80%94%20'%20%2B%20total%20%2B%20'%20records%20loaded.')%3B%0A%20%20%20%20%20%20showResults()%3B%0A%20%20%20%20%7D)%0A%20%20%20%20.catch(function%20(err)%20%7B%0A%20%20%20%20%20%20runBtn.disabled%20%3D%20false%3B%0A%20%20%20%20%20%20setStatus('Error%3A%20'%20%2B%20(err.message%20%7C%7C%20err)%2C%20true)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Results%20Display%20----%0A%0A%20%20function%20showResults()%20%7B%0A%20%20%20%20var%20panel%20%3D%20document.getElementById('fdrResultsPanel')%3B%0A%20%20%20%20panel.classList.add('visible')%3B%0A%0A%20%20%20%20buildTabs()%3B%0A%0A%20%20%20%20%2F%2F%20Activate%20first%20tab%0A%20%20%20%20var%20firstCat%20%3D%20state.selectedCategories%5B0%5D%3B%0A%20%20%20%20activateTab(firstCat)%3B%0A%20%20%7D%0A%0A%20%20function%20buildTabs()%20%7B%0A%20%20%20%20var%20container%20%3D%20document.getElementById('fdrTabs')%3B%0A%20%20%20%20container.innerHTML%20%3D%20''%3B%0A%0A%20%20%20%20state.selectedCategories.forEach(function%20(catKey)%20%7B%0A%20%20%20%20%20%20var%20cat%20%3D%20DataTypes.getCategory(catKey)%3B%0A%20%20%20%20%20%20var%20count%20%3D%20(state.results%5BcatKey%5D%20%7C%7C%20%5B%5D).length%3B%0A%0A%20%20%20%20%20%20var%20btn%20%3D%20document.createElement('button')%3B%0A%20%20%20%20%20%20btn.className%20%3D%20'fdr-tab'%3B%0A%20%20%20%20%20%20btn.dataset.category%20%3D%20catKey%3B%0A%20%20%20%20%20%20btn.innerHTML%20%3D%20cat.label%20%2B%20'%3Cspan%20class%3D%22fdr-tab-count%22%3E('%20%2B%20count%20%2B%20')%3C%2Fspan%3E'%3B%0A%20%20%20%20%20%20btn.addEventListener('click'%2C%20function%20()%20%7B%20activateTab(catKey)%3B%20%7D)%3B%0A%20%20%20%20%20%20container.appendChild(btn)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20function%20activateTab(catKey)%20%7B%0A%20%20%20%20state.activeTab%20%3D%20catKey%3B%0A%0A%20%20%20%20%2F%2F%20Highlight%20active%20tab%0A%20%20%20%20var%20tabs%20%3D%20document.querySelectorAll('%23fdrTabs%20.fdr-tab')%3B%0A%20%20%20%20tabs.forEach(function%20(t)%20%7B%0A%20%20%20%20%20%20t.classList.toggle('active'%2C%20t.dataset.category%20%3D%3D%3D%20catKey)%3B%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Clear%20search%0A%20%20%20%20document.getElementById('fdrSearch').value%20%3D%20''%3B%0A%0A%20%20%20%20%2F%2F%20Render%20table%0A%20%20%20%20var%20fields%20%3D%20state.selectedFields%5BcatKey%5D%20%7C%7C%20DataTypes.getDefaultFields(catKey)%3B%0A%20%20%20%20var%20rows%20%3D%20state.results%5BcatKey%5D%20%7C%7C%20%5B%5D%3B%0A%0A%20%20%20%20TableRenderer.render(%7B%0A%20%20%20%20%20%20containerId%3A%20'fdrTableContainer'%2C%0A%20%20%20%20%20%20paginationId%3A%20'fdrPagination'%2C%0A%20%20%20%20%20%20pageInfoId%3A%20'fdrPageInfo'%2C%0A%20%20%20%20%20%20prevBtnId%3A%20'fdrPrevBtn'%2C%0A%20%20%20%20%20%20nextBtnId%3A%20'fdrNextBtn'%2C%0A%20%20%20%20%20%20fields%3A%20fields%2C%0A%20%20%20%20%20%20rows%3A%20rows%2C%0A%20%20%20%20%20%20pageSize%3A%2050%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%2F%2F%20Update%20chart%20field%20dropdowns%0A%20%20%20%20updateChartFieldOptions(catKey%2C%20fields)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Search%20----%0A%0A%20%20function%20onSearchInput()%20%7B%0A%20%20%20%20var%20query%20%3D%20document.getElementById('fdrSearch').value%3B%0A%20%20%20%20TableRenderer.filter(query)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20CSV%20Export%20----%0A%0A%20%20function%20exportCurrentTab()%20%7B%0A%20%20%20%20if%20(!state.activeTab)%20return%3B%0A%20%20%20%20var%20fields%20%3D%20state.selectedFields%5Bstate.activeTab%5D%20%7C%7C%20DataTypes.getDefaultFields(state.activeTab)%3B%0A%20%20%20%20var%20rows%20%3D%20state.results%5Bstate.activeTab%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20var%20cat%20%3D%20DataTypes.getCategory(state.activeTab)%3B%0A%20%20%20%20CsvExporter.exportCsv(fields%2C%20rows%2C%20(cat%20%3F%20cat.label%20%3A%20'export'))%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Chart%20----%0A%0A%20%20function%20toggleChart()%20%7B%0A%20%20%20%20var%20panel%20%3D%20document.getElementById('fdrChartPanel')%3B%0A%20%20%20%20state.chartVisible%20%3D%20!state.chartVisible%3B%0A%20%20%20%20panel.classList.toggle('visible'%2C%20state.chartVisible)%3B%0A%20%20%20%20document.getElementById('fdrToggleChartBtn').textContent%20%3D%0A%20%20%20%20%20%20state.chartVisible%20%3F%20'Hide%20Chart'%20%3A%20'Show%20Chart'%3B%0A%20%20%7D%0A%0A%20%20function%20hideChart()%20%7B%0A%20%20%20%20state.chartVisible%20%3D%20false%3B%0A%20%20%20%20document.getElementById('fdrChartPanel').classList.remove('visible')%3B%0A%20%20%20%20document.getElementById('fdrToggleChartBtn').textContent%20%3D%20'Show%20Chart'%3B%0A%20%20%7D%0A%0A%20%20function%20updateChartFieldOptions(catKey%2C%20fields)%20%7B%0A%20%20%20%20var%20valueSelect%20%3D%20document.getElementById('fdrChartValueField')%3B%0A%20%20%20%20var%20groupSelect%20%3D%20document.getElementById('fdrChartGroupField')%3B%0A%0A%20%20%20%20valueSelect.innerHTML%20%3D%20''%3B%0A%20%20%20%20groupSelect.innerHTML%20%3D%20''%3B%0A%0A%20%20%20%20fields.forEach(function%20(f)%20%7B%0A%20%20%20%20%20%20if%20(f.type%20%3D%3D%3D%20'number')%20%7B%0A%20%20%20%20%20%20%20%20var%20opt%20%3D%20document.createElement('option')%3B%0A%20%20%20%20%20%20%20%20opt.value%20%3D%20f.key%3B%0A%20%20%20%20%20%20%20%20opt.textContent%20%3D%20f.label%3B%0A%20%20%20%20%20%20%20%20valueSelect.appendChild(opt)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%0A%20%20%20%20fields.forEach(function%20(f)%20%7B%0A%20%20%20%20%20%20if%20(f.type%20%3D%3D%3D%20'string'%20%7C%7C%20f.type%20%3D%3D%3D%20'id'%20%7C%7C%20f.type%20%3D%3D%3D%20'date')%20%7B%0A%20%20%20%20%20%20%20%20var%20opt%20%3D%20document.createElement('option')%3B%0A%20%20%20%20%20%20%20%20opt.value%20%3D%20f.key%3B%0A%20%20%20%20%20%20%20%20opt.textContent%20%3D%20f.label%3B%0A%20%20%20%20%20%20%20%20groupSelect.appendChild(opt)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20function%20renderChart()%20%7B%0A%20%20%20%20if%20(!state.activeTab)%20return%3B%0A%0A%20%20%20%20var%20chartType%20%3D%20document.getElementById('fdrChartType').value%3B%0A%20%20%20%20var%20valueField%20%3D%20document.getElementById('fdrChartValueField').value%3B%0A%20%20%20%20var%20groupField%20%3D%20document.getElementById('fdrChartGroupField').value%3B%0A%0A%20%20%20%20if%20(!valueField%20%7C%7C%20!groupField)%20%7B%0A%20%20%20%20%20%20setStatus('Select%20both%20a%20value%20field%20and%20group-by%20field%20for%20charting.'%2C%20true)%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20rows%20%3D%20state.results%5Bstate.activeTab%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20var%20fields%20%3D%20state.selectedFields%5Bstate.activeTab%5D%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20var%20groupFieldDef%20%3D%20fields.find(function%20(f)%20%7B%20return%20f.key%20%3D%3D%3D%20groupField%3B%20%7D)%3B%0A%0A%20%20%20%20ChartRenderer.render(%7B%0A%20%20%20%20%20%20canvasId%3A%20'fdrCanvas'%2C%0A%20%20%20%20%20%20chartType%3A%20chartType%2C%0A%20%20%20%20%20%20rows%3A%20rows%2C%0A%20%20%20%20%20%20valueFieldKey%3A%20valueField%2C%0A%20%20%20%20%20%20groupFieldKey%3A%20groupField%2C%0A%20%20%20%20%20%20groupFieldDef%3A%20groupFieldDef%2C%0A%20%20%20%20%20%20maxGroups%3A%2020%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20----%20Status%20Helpers%20----%0A%0A%20%20function%20setStatus(msg%2C%20isError%2C%20isHtml)%20%7B%0A%20%20%20%20var%20el%20%3D%20document.getElementById('fdrStatus')%3B%0A%20%20%20%20if%20(isHtml)%20%7B%0A%20%20%20%20%20%20el.innerHTML%20%3D%20msg%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20el.textContent%20%3D%20msg%3B%0A%20%20%20%20%7D%0A%20%20%20%20el.className%20%3D%20'fdr-status'%20%2B%20(isError%20%3F%20'%20error'%20%3A%20'')%3B%0A%20%20%7D%0A%0A%7D)()%3B%0A%3C%2Fscript%3E%0A%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A",
      "path": "ActivityLink/",
      "menuName": {
        "en": "Data Reporter"
      },
      "icon": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzAwNWY5ZSI+PHBhdGggZD0iTTE5IDNINWMtMS4xIDAtMiAuOS0yIDJ2MTRjMCAxLjEuOSAyIDIgMmgxNGMxLjEgMCAyLS45IDItMlY1YzAtMS4xLS45LTItMi0yek05IDE3SDd2LTdoMnY3em00IDBoLTJWN2gydjEwem00IDBoLTJ2LTRoMnY0eiIvPjwvc3ZnPg=="
    }
  ],
  "isSigned": false
}